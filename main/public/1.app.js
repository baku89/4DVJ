webpackJsonp([1],[,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(9),n(10);var s=n(5),c=r(s),f=n(11),l=r(f),p=n(12),h=r(p),d=n(13),v=r(d),y=n(14),g=r(y),_=n(19),m=r(_),b=n(31),x=r(b),w=n(32),E=r(w),T=n(37),M=r(T);n(41),n(42),n(43),n(44),n(45),n(46);var O=n(47),j=r(O),C=n(50),R=r(C),k=n(52),S=r(k);window.GUI=l.default;var A=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return u(e,t),a(e,[{key:"init",value:function(){LoadingBar.on("complete",this.onCompleteLoadingBar.bind(this)),this.ui=n(54).default,this.initScene(),this.initObject(),this.initPostprocessing(),this.ui.forceUpdate(),this.onResize(),this._state="loading"}},{key:"initScene",value:function(){this.scene=new THREE.Scene,this.renderer=new THREE.WebGLRenderer({canvas:$(".display-canvas")[0],antialias:!0}),this.renderer.setClearColor(h.default.CLEAR_COLOR),this.orbitalCamera=new x.default,this.scene.add(this.orbitalCamera),window.addEventListener("resize",this.onResize.bind(this)),window.addEventListener("click",this.onClick.bind(this))}},{key:"initObject",value:function(){this.projector4d=new m.default,this.polytopeManager=new g.default({projector4d:this.projector4d}),this.scene.add(this.polytopeManager),this.dandruff=new E.default({projector4d:this.projector4d}),this.scene.add(this.dandruff),this.fibrationManager=new M.default({projector4d:this.projector4d}),this.scene.add(this.fibrationManager)}},{key:"initPostprocessing",value:function(){this.composer=new THREE.EffectComposer(this.renderer),this.composer.addPass(new THREE.RenderPass(this.scene,this.orbitalCamera.camera)),this.deformPass=new j.default,this.composer.addPass(this.deformPass),this.compositePass=new R.default,this.composer.addPass(this.compositePass),this.overlayPass=new S.default,this.composer.addPass(this.overlayPass);var t=new THREE.ShaderPass(THREE.CopyShader);this.composer.addPass(t),this.composer.passes[this.composer.passes.length-1].renderToScreen=!0}},{key:"onCompleteLoadingBar",value:function(){this.state="vjing",v.default.on("update",this.animate.bind(this)),v.default.start()}},{key:"animate",value:function(t){this.ui.update(),this.polytopeManager.update(t),this.projector4d.update(t),this.orbitalCamera.update(t),this.dandruff.update(t),this.fibrationManager.update(t),this.deformPass.update(t),this.overlayPass.update(t),this.compositePass.update(t),this.composer.render()}},{key:"onResize",value:function(){var t=window.innerWidth,e=t/h.default.ASPECT;t+=2*h.default.EDGE_WIDTH,e+=2*h.default.EDGE_WIDTH,this.renderer.setSize(t,e),this.composer.setSize(t,e),this.emit("resize",t,e)}},{key:"onClick",value:function(){}},{key:"state",set:function(t){var e=this,n=this._state;this._state=t,this.emit("changeState",this._state,n),setTimeout(function(){$("body").attr("data-state",e._state)},100)},get:function(){return this._state}}]),e}(c.default);e.default=A,window.app=new A,window.app.init()},function(t,e,n){var r,i,o;(function(){!function(u,a){i=[n(1)],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}(this,function(t){function e(t){if(t in l.style)return t;for(var e=["Moz","Webkit","O","ms"],n=t.charAt(0).toUpperCase()+t.substr(1),r=0;r<e.length;++r){var i=e[r]+n;if(i in l.style)return i}}function n(){return l.style[p.transform]="",l.style[p.transform]="rotateY(90deg)",""!==l.style[p.transform]}function r(t){return"string"==typeof t&&this.parse(t),this}function i(t,e,n){e===!0?t.queue(n):e?t.queue(e,n):t.each(function(){n.call(this)})}function o(e){var n=[];return t.each(e,function(e){e=t.camelCase(e),e=t.transit.propertyMap[e]||t.cssProps[e]||e,e=s(e),p[e]&&(e=s(p[e])),t.inArray(e,n)===-1&&n.push(e)}),n}function u(e,n,r,i){var u=o(e);t.cssEase[r]&&(r=t.cssEase[r]);var a=""+f(n)+" "+r;parseInt(i,10)>0&&(a+=" "+f(i));var s=[];return t.each(u,function(t,e){s.push(e+" "+a)}),s.join(", ")}function a(e,n){n||(t.cssNumber[e]=!0),t.transit.propertyMap[e]=p.transform,t.cssHooks[e]={get:function(n){var r=t(n).css("transit:transform");return r.get(e)},set:function(n,r){var i=t(n).css("transit:transform");i.setFromString(e,r),t(n).css({"transit:transform":i})}}}function s(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function c(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function f(e){var n=e;return"string"!=typeof n||n.match(/^[\-0-9\.]+/)||(n=t.fx.speeds[n]||t.fx.speeds._default),c(n,"ms")}t.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),p={},h=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;p.transition=e("transition"),p.transitionDelay=e("transitionDelay"),p.transform=e("transform"),p.transformOrigin=e("transformOrigin"),p.filter=e("Filter"),p.transform3d=n();var d={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},v=p.transitionEnd=d[p.transition]||null;for(var y in p)p.hasOwnProperty(y)&&"undefined"==typeof t.support[y]&&(t.support[y]=p[y]);return l=null,t.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new r},set:function(e,n){var i=n;i instanceof r||(i=new r(i)),"WebkitTransform"!==p.transform||h?e.style[p.transform]=i.toString():e.style[p.transform]=i.toString(!0),t(e).data("transform",i)}},t.cssHooks.transform={set:t.cssHooks["transit:transform"].set},t.cssHooks.filter={get:function(t){return t.style[p.filter]},set:function(t,e){t.style[p.filter]=e}},t.fn.jquery<"1.8"&&(t.cssHooks.transformOrigin={get:function(t){return t.style[p.transformOrigin]},set:function(t,e){t.style[p.transformOrigin]=e}},t.cssHooks.transition={get:function(t){return t.style[p.transition]},set:function(t,e){t.style[p.transition]=e}}),a("scale"),a("scaleX"),a("scaleY"),a("translate"),a("rotate"),a("rotateX"),a("rotateY"),a("rotate3d"),a("perspective"),a("skewX"),a("skewY"),a("x",!0),a("y",!0),r.prototype={setFromString:function(t,e){var n="string"==typeof e?e.split(","):e.constructor===Array?e:[e];n.unshift(t),r.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=c(t,"deg")},rotateX:function(t){this.rotateX=c(t,"deg")},rotateY:function(t){this.rotateY=c(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=c(t,"deg")},skewY:function(t){this.skewY=c(t,"deg")},perspective:function(t){this.perspective=c(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=c(t,"px")),null!==e&&void 0!==e&&(this._translateY=c(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;e<=3;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=c(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,n,r){e.setFromString(n,r)})},toString:function(t){var e=[];for(var n in this)if(this.hasOwnProperty(n)){if(!p.transform3d&&("rotateX"===n||"rotateY"===n||"perspective"===n||"transformOrigin"===n))continue;"_"!==n[0]&&(t&&"scale"===n?e.push(n+"3d("+this[n]+",1)"):t&&"translate"===n?e.push(n+"3d("+this[n]+",0)"):e.push(n+"("+this[n]+")"))}return e.join(" ")}},t.fn.transition=t.fn.transit=function(e,n,r,o){var a=this,s=0,c=!0,l=t.extend(!0,{},e);"function"==typeof n&&(o=n,n=void 0),"object"==typeof n&&(r=n.easing,s=n.delay||0,c="undefined"==typeof n.queue||n.queue,o=n.complete,n=n.duration),"function"==typeof r&&(o=r,r=void 0),"undefined"!=typeof l.easing&&(r=l.easing,delete l.easing),"undefined"!=typeof l.duration&&(n=l.duration,delete l.duration),"undefined"!=typeof l.complete&&(o=l.complete,delete l.complete),"undefined"!=typeof l.queue&&(c=l.queue,delete l.queue),"undefined"!=typeof l.delay&&(s=l.delay,delete l.delay),"undefined"==typeof n&&(n=t.fx.speeds._default),"undefined"==typeof r&&(r=t.cssEase._default),n=f(n);var h=u(l,n,r,s),d=t.transit.enabled&&p.transition,y=d?parseInt(n,10)+parseInt(s,10):0;if(0===y){var g=function(t){a.css(l),o&&o.apply(a),t&&t()};return i(a,c,g),a}var _={},m=function(e){var n=!1,r=function(){n&&a.unbind(v,r),y>0&&a.each(function(){this.style[p.transition]=_[this]||null}),"function"==typeof o&&o.apply(a),"function"==typeof e&&e()};y>0&&v&&t.transit.useTransitionEnd?(n=!0,a.bind(v,r)):window.setTimeout(r,y),a.each(function(){y>0&&(this.style[p.transition]=h),t(this).css(l)})},b=function(t){this.offsetWidth,m(t)};return i(a,c,b),this},t.transit.getTransitionValue=u,t})}).call(window)},function(t,e,n){var r,i;!function(o){r=[n(1)],i=function(t){return o(t)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(function(t){function e(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}t.easing.jswing=t.easing.swing;var n=Math.pow,r=Math.sqrt,i=Math.sin,o=Math.cos,u=Math.PI,a=1.70158,s=1.525*a,c=a+1,f=2*u/3,l=2*u/4.5;t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-n(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-n(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-n(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-n(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-n(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-n(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-n(-2*t+2,5)/2},easeInSine:function(t){return 1-o(t*u/2)},easeOutSine:function(t){return i(t*u/2)},easeInOutSine:function(t){return-(o(u*t)-1)/2},easeInExpo:function(t){return 0===t?0:n(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-n(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?n(2,20*t-10)/2:(2-n(2,-20*t+10))/2},easeInCirc:function(t){return 1-r(1-n(t,2))},easeOutCirc:function(t){return r(1-n(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-r(1-n(2*t,2)))/2:(r(1-n(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-n(2,10*t-10)*i((10*t-10.75)*f)},easeOutElastic:function(t){return 0===t?0:1===t?1:n(2,-10*t)*i((10*t-.75)*f)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-(n(2,20*t-10)*i((20*t-11.125)*l))/2:n(2,-20*t+10)*i((20*t-11.125)*l)/2+1},easeInBack:function(t){return c*t*t*t-a*t*t},easeOutBack:function(t){return 1+c*n(t-1,3)+a*n(t-1,2)},easeInOutBack:function(t){return t<.5?n(2*t,2)*(2*(s+1)*t-s)/2:(n(2*t-2,2)*((s+1)*(2*t-2)+s)+2)/2},easeInBounce:function(t){return 1-e(1-t)},easeOutBounce:e,easeInOutBounce:function(t){return t<.5?(1-e(1-2*t))/2:(1+e(2*t-1))/2}})})},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(){n(this,t)};e.default=new r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={EDGE_WIDTH:0,CLEAR_COLOR:1122608,INVERT_EXCLUSION_COLOR:14216676,ASPECT:1920/816,OSC_PORT:9e3,WIDE_LERP:.2,TELE_LERP:.1,INIT_ROTATE_SPEED:.3}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(5),c=r(s),f=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.update=t.update.bind(t),t.previousTime=0,t}return u(e,t),a(e,[{key:"start",value:function(){console.log("start ticker"),this.update()}},{key:"stop",value:function(){cancelAnimationFrame(this.requiestId)}},{key:"update",value:function(t){this.requestId=requestAnimationFrame(this.update);var e=t-this.previousTime;this.previousTime=t,e&&this.emit("update",e)}}]),e}(c.default);e.default=new f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(15),c=r(s),f=n(17),l=r(f),p=[{name:"Hypercube",subdivision:40},{name:"Pentatope",subdivision:60},{name:"3x3-Duoprism",subdivision:60},{name:"16-Cell",subdivision:30},{name:"Flat Torus",subdivision:7},{name:"8-Hedra Solid",subdivision:20},{name:"{2,2,7}",subdivision:12},{name:"{2,2,9}",subdivision:12},{name:"{3,3,3,3,4}",subdivision:40},{name:"{3,5} Maze",subdivision:8},{name:"24-Cell",subdivision:30},{name:"Truncated Hypercube",subdivision:20},{name:"{2,3,4}",subdivision:12},{name:"Edge-Truncated Hypercube",subdivision:10},{name:"12x12-Duoprism",subdivision:10},{name:"Y",subdivision:10},{name:"8-Prisms Solid",subdivision:10},{name:"{3,3,4} Maze",subdivision:8},{name:"120-Cell",subdivision:8},{name:"20-Hedra Solid",subdivision:8},{name:"6-Prisms Solid",subdivision:8},{name:"20-Hedra Solid",subdivision:8},{name:"4-Hedra Solid",subdivision:5},{name:"600-Cell",subdivision:10}],h=.2,d=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.projector4d=t.projector4d,app.ui.polytope.on("change",n.changePolytope.bind(n)),n.currrentPolytopeScale=1,app.ui.polytopeScale.on("change",function(t){n.scale.set(t,t,t)}),n.polytopes=[];var r=function t(e){if(e==p.length)return void n.changePolytope(0,!0);var r=p[e];console.log("processing...",r.name);var i=new l.default(window.assets.graphs[r.name],{projector4d:n.projector4d,subdivision:r.subdivision});i.name=r.name,n.polytopes.push(i),n.add(i),LoadingBar.update(h+(e+1)/p.length*(1-h)),setTimeout(function(){return t(e+1)},1)};return setTimeout(function(){return r(0)},1),n}return u(e,t),a(e,[{key:"changePolytope",value:function(t,e){"number"!=typeof t&&(t=c.default.random(this.polytopes.length-2),this.currentIndex<=t&&(t+=1)),this.currentIndex=t,this.polytopeName=this.polytopes[this.currentIndex].name,this.updateStage(),e||(app.ui.title.value=this.polytopeName)}},{key:"updateStage",value:function(){var t=this;this.polytopes.forEach(function(e,n){e.visible=t.currentIndex==n})}},{key:"update",value:function(){}}]),e}(THREE.Object3D);e.default=d},function(t,e,n){var r;(function(t,i){(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];e(r,u,n(u),t)}return r}function a(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o}function l(t,e){var n=null==t?0:t.length;return!!n&&w(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function h(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function g(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function m(t){return t.match(Be)||[]}function b(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function x(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e===e?X(t,e,n):x(t,T,n)}function E(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function T(t){return t!==t}function M(t,e){var n=null==t?0:t.length;return n?k(t,e)/n:Dt}function O(t){return function(e){return null==e?rt:e[t]}}function j(t){return function(e){return null==t?rt:t[e]}}function C(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function R(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function k(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==rt&&(n=n===rt?o:n+o)}return n}function S(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function A(t,e){return h(e,function(e){return[e,t[e]]})}function z(t){return function(e){return t(e)}}function P(t,e){return h(e,function(e){return t[e]})}function I(t,e){return t.has(e)}function D(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function H(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function L(t){return"\\"+tr[t]}function $(t,e){return null==t?rt:t[e]}function B(t){return Wn.test(t)}function N(t){return Vn.test(t)}function U(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){return function(n){return t(e(n))}}function V(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==ft||(t[n]=ft,o[i++]=n)}return o}function Z(t,e){return"__proto__"==e?rt:t[e]}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function X(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Y(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Q(t){return B(t)?tt(t):gr(t)}function J(t){return B(t)?et(t):_(t)}function tt(t){for(var e=Un.lastIndex=0;Un.test(t);)++e;return e}function et(t){return t.match(Un)||[]}function nt(t){return t.match(qn)||[]}var rt,it="4.17.10",ot=200,ut="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",at="Expected a function",st="__lodash_hash_undefined__",ct=500,ft="__lodash_placeholder__",lt=1,pt=2,ht=4,dt=1,vt=2,yt=1,gt=2,_t=4,mt=8,bt=16,xt=32,wt=64,Et=128,Tt=256,Mt=512,Ot=30,jt="...",Ct=800,Rt=16,kt=1,St=2,At=3,zt=1/0,Pt=9007199254740991,It=1.7976931348623157e308,Dt=NaN,Ht=4294967295,Ft=Ht-1,Lt=Ht>>>1,$t=[["ary",Et],["bind",yt],["bindKey",gt],["curry",mt],["curryRight",bt],["flip",Mt],["partial",xt],["partialRight",wt],["rearg",Tt]],Bt="[object Arguments]",Nt="[object Array]",Ut="[object AsyncFunction]",qt="[object Boolean]",Wt="[object Date]",Vt="[object DOMException]",Zt="[object Error]",Kt="[object Function]",Gt="[object GeneratorFunction]",Xt="[object Map]",Yt="[object Number]",Qt="[object Null]",Jt="[object Object]",te="[object Promise]",ee="[object Proxy]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object Symbol]",ue="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",ce="[object ArrayBuffer]",fe="[object DataView]",le="[object Float32Array]",pe="[object Float64Array]",he="[object Int8Array]",de="[object Int16Array]",ve="[object Int32Array]",ye="[object Uint8Array]",ge="[object Uint8ClampedArray]",_e="[object Uint16Array]",me="[object Uint32Array]",be=/\b__p \+= '';/g,xe=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ee=/&(?:amp|lt|gt|quot|#39);/g,Te=/[&<>"']/g,Me=RegExp(Ee.source),Oe=RegExp(Te.source),je=/<%-([\s\S]+?)%>/g,Ce=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Se=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/[\\^$.*+?()[\]{}|]/g,Pe=RegExp(ze.source),Ie=/^\s+|\s+$/g,De=/^\s+/,He=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Le=/\{\n\/\* \[wrapped with (.+)\] \*/,$e=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ne=/\\(\\)?/g,Ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,Ze=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Ge=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",tn="\\u0300-\\u036f",en="\\ufe20-\\ufe2f",nn="\\u20d0-\\u20ff",rn=tn+en+nn,on="\\u2700-\\u27bf",un="a-z\\xdf-\\xf6\\xf8-\\xff",an="\\xac\\xb1\\xd7\\xf7",sn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cn="\\u2000-\\u206f",fn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",pn="\\ufe0e\\ufe0f",hn=an+sn+cn+fn,dn="['’]",vn="["+Je+"]",yn="["+hn+"]",gn="["+rn+"]",_n="\\d+",mn="["+on+"]",bn="["+un+"]",xn="[^"+Je+hn+_n+on+un+ln+"]",wn="\\ud83c[\\udffb-\\udfff]",En="(?:"+gn+"|"+wn+")",Tn="[^"+Je+"]",Mn="(?:\\ud83c[\\udde6-\\uddff]){2}",On="[\\ud800-\\udbff][\\udc00-\\udfff]",jn="["+ln+"]",Cn="\\u200d",Rn="(?:"+bn+"|"+xn+")",kn="(?:"+jn+"|"+xn+")",Sn="(?:"+dn+"(?:d|ll|m|re|s|t|ve))?",An="(?:"+dn+"(?:D|LL|M|RE|S|T|VE))?",zn=En+"?",Pn="["+pn+"]?",In="(?:"+Cn+"(?:"+[Tn,Mn,On].join("|")+")"+Pn+zn+")*",Dn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fn=Pn+zn+In,Ln="(?:"+[mn,Mn,On].join("|")+")"+Fn,$n="(?:"+[Tn+gn+"?",gn,Mn,On,vn].join("|")+")",Bn=RegExp(dn,"g"),Nn=RegExp(gn,"g"),Un=RegExp(wn+"(?="+wn+")|"+$n+Fn,"g"),qn=RegExp([jn+"?"+bn+"+"+Sn+"(?="+[yn,jn,"$"].join("|")+")",kn+"+"+An+"(?="+[yn,jn+Rn,"$"].join("|")+")",jn+"?"+Rn+"+"+Sn,jn+"+"+An,Hn,Dn,_n,Ln].join("|"),"g"),Wn=RegExp("["+Cn+Je+rn+pn+"]"),Vn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kn=-1,Gn={};Gn[le]=Gn[pe]=Gn[he]=Gn[de]=Gn[ve]=Gn[ye]=Gn[ge]=Gn[_e]=Gn[me]=!0,Gn[Bt]=Gn[Nt]=Gn[ce]=Gn[qt]=Gn[fe]=Gn[Wt]=Gn[Zt]=Gn[Kt]=Gn[Xt]=Gn[Yt]=Gn[Jt]=Gn[ne]=Gn[re]=Gn[ie]=Gn[ae]=!1;var Xn={};Xn[Bt]=Xn[Nt]=Xn[ce]=Xn[fe]=Xn[qt]=Xn[Wt]=Xn[le]=Xn[pe]=Xn[he]=Xn[de]=Xn[ve]=Xn[Xt]=Xn[Yt]=Xn[Jt]=Xn[ne]=Xn[re]=Xn[ie]=Xn[oe]=Xn[ye]=Xn[ge]=Xn[_e]=Xn[me]=!0,Xn[Zt]=Xn[Kt]=Xn[ae]=!1;var Yn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},er=parseFloat,nr=parseInt,rr="object"==typeof t&&t&&t.Object===Object&&t,ir="object"==typeof self&&self&&self.Object===Object&&self,or=rr||ir||Function("return this")(),ur="object"==typeof e&&e&&!e.nodeType&&e,ar=ur&&"object"==typeof i&&i&&!i.nodeType&&i,sr=ar&&ar.exports===ur,cr=sr&&rr.process,fr=function(){try{var t=ar&&ar.require&&ar.require("util").types;return t?t:cr&&cr.binding&&cr.binding("util")}catch(t){}}(),lr=fr&&fr.isArrayBuffer,pr=fr&&fr.isDate,hr=fr&&fr.isMap,dr=fr&&fr.isRegExp,vr=fr&&fr.isSet,yr=fr&&fr.isTypedArray,gr=O("length"),_r=j(Yn),mr=j(Qn),br=j(Jn),xr=function t(e){function n(t){if(os(t)&&!gp(t)&&!(t instanceof _)){if(t instanceof i)return t;if(gf.call(t,"__wrapped__"))return nu(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=rt}function _(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ht,this.__views__=[]}function j(){var t=new _(this.__wrapped__);return t.__actions__=Di(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Di(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Di(this.__views__),t}function X(){if(this.__filtered__){var t=new _(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function tt(){var t=this.__wrapped__.value(),e=this.__dir__,n=gp(t),r=e<0,i=n?t.length:0,o=Oo(0,i,this.__views__),u=o.start,a=o.end,s=a-u,c=r?a:u-1,f=this.__iteratees__,l=f.length,p=0,h=Zf(s,this.__takeCount__);if(!n||!r&&i==s&&h==s)return mi(t,this.__actions__);var d=[];t:for(;s--&&p<h;){c+=e;for(var v=-1,y=t[c];++v<l;){var g=f[v],_=g.iteratee,m=g.type,b=_(y);if(m==St)y=b;else if(!b){if(m==kt)continue t;break t}}d[p++]=y}return d}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Be(){this.__data__=rl?rl(null):{},this.size=0}function Je(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function tn(t){var e=this.__data__;if(rl){var n=e[t];return n===st?rt:n}return gf.call(e,t)?e[t]:rt}function en(t){var e=this.__data__;return rl?e[t]!==rt:gf.call(e,t)}function nn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rl&&e===rt?st:e,this}function rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function on(){this.__data__=[],this.size=0}function un(t){var e=this.__data__,n=Sn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Sf.call(e,n,1),--this.size,!0}function an(t){var e=this.__data__,n=Sn(e,t);return n<0?rt:e[n][1]}function sn(t){return Sn(this.__data__,t)>-1}function cn(t,e){var n=this.__data__,r=Sn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ln(){this.size=0,this.__data__={hash:new et,map:new(Jf||rn),string:new et}}function pn(t){var e=wo(this,t).delete(t);return this.size-=e?1:0,e}function hn(t){return wo(this,t).get(t)}function dn(t){return wo(this,t).has(t)}function vn(t,e){var n=wo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new fn;++e<n;)this.add(t[e])}function gn(t){return this.__data__.set(t,st),this}function _n(t){return this.__data__.has(t)}function mn(t){var e=this.__data__=new rn(t);this.size=e.size}function bn(){this.__data__=new rn,this.size=0}function xn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function wn(t){return this.__data__.get(t)}function En(t){return this.__data__.has(t)}function Tn(t,e){var n=this.__data__;if(n instanceof rn){var r=n.__data__;
if(!Jf||r.length<ot-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fn(r)}return n.set(t,e),this.size=n.size,this}function Mn(t,e){var n=gp(t),r=!n&&yp(t),i=!n&&!r&&mp(t),o=!n&&!r&&!i&&Tp(t),u=n||r||i||o,a=u?S(t.length,ff):[],s=a.length;for(var c in t)!e&&!gf.call(t,c)||u&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Po(c,s))||a.push(c);return a}function On(t){var e=t.length;return e?t[ti(0,e-1)]:rt}function jn(t,e){return Qo(Di(t),Hn(e,0,t.length))}function Cn(t){return Qo(Di(t))}function Rn(t,e,n){(n===rt||Wa(t[e],n))&&(n!==rt||e in t)||In(t,e,n)}function kn(t,e,n){var r=t[e];gf.call(t,e)&&Wa(r,n)&&(n!==rt||e in t)||In(t,e,n)}function Sn(t,e){for(var n=t.length;n--;)if(Wa(t[n][0],e))return n;return-1}function An(t,e,n,r){return vl(t,function(t,i,o){e(r,t,n(t),o)}),r}function zn(t,e){return t&&Hi(e,$s(e),t)}function Pn(t,e){return t&&Hi(e,Bs(e),t)}function In(t,e,n){"__proto__"==e&&If?If(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Dn(t,e){for(var n=-1,r=e.length,i=nf(r),o=null==t;++n<r;)i[n]=o?rt:Hs(t,e[n]);return i}function Hn(t,e,n){return t===t&&(n!==rt&&(t=t<=n?t:n),e!==rt&&(t=t>=e?t:e)),t}function Fn(t,e,n,r,i,o){var u,s=e&lt,c=e&pt,f=e&ht;if(n&&(u=i?n(t,r,i,o):n(t)),u!==rt)return u;if(!is(t))return t;var l=gp(t);if(l){if(u=Ro(t),!s)return Di(t,u)}else{var p=jl(t),h=p==Kt||p==Gt;if(mp(t))return Oi(t,s);if(p==Jt||p==Bt||h&&!i){if(u=c||h?{}:ko(t),!s)return c?Li(t,Pn(u,t)):Fi(t,zn(u,t))}else{if(!Xn[p])return i?t:{};u=So(t,p,s)}}o||(o=new mn);var d=o.get(t);if(d)return d;if(o.set(t,u),Ep(t))return t.forEach(function(r){u.add(Fn(r,e,n,r,t,o))}),u;if(xp(t))return t.forEach(function(r,i){u.set(i,Fn(r,e,n,i,t,o))}),u;var v=f?c?_o:go:c?Bs:$s,y=l?rt:v(t);return a(y||t,function(r,i){y&&(i=r,r=t[i]),kn(u,i,Fn(r,e,n,i,t,o))}),u}function Ln(t){var e=$s(t);return function(n){return $n(n,t,e)}}function $n(t,e,n){var r=n.length;if(null==t)return!r;for(t=sf(t);r--;){var i=n[r],o=e[i],u=t[i];if(u===rt&&!(i in t)||!o(u))return!1}return!0}function Un(t,e,n){if("function"!=typeof t)throw new lf(at);return kl(function(){t.apply(rt,n)},e)}function qn(t,e,n,r){var i=-1,o=l,u=!0,a=t.length,s=[],c=e.length;if(!a)return s;n&&(e=h(e,z(n))),r?(o=p,u=!1):e.length>=ot&&(o=I,u=!1,e=new yn(e));t:for(;++i<a;){var f=t[i],d=null==n?f:n(f);if(f=r||0!==f?f:0,u&&d===d){for(var v=c;v--;)if(e[v]===d)continue t;s.push(f)}else o(e,d,r)||s.push(f)}return s}function Wn(t,e){var n=!0;return vl(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Vn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],u=e(o);if(null!=u&&(a===rt?u===u&&!ys(u):n(u,a)))var a=u,s=o}return s}function Yn(t,e,n,r){var i=t.length;for(n=ws(n),n<0&&(n=-n>i?0:i+n),r=r===rt||r>i?i:ws(r),r<0&&(r+=i),r=n>r?0:Es(r);n<r;)t[n++]=e;return t}function Qn(t,e){var n=[];return vl(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Jn(t,e,n,r,i){var o=-1,u=t.length;for(n||(n=zo),i||(i=[]);++o<u;){var a=t[o];e>0&&n(a)?e>1?Jn(a,e-1,n,r,i):d(i,a):r||(i[i.length]=a)}return i}function tr(t,e){return t&&gl(t,e,$s)}function rr(t,e){return t&&_l(t,e,$s)}function ir(t,e){return f(e,function(e){return es(t[e])})}function ur(t,e){e=Ti(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Jo(e[n++])];return n&&n==r?t:rt}function ar(t,e,n){var r=e(t);return gp(t)?r:d(r,n(t))}function cr(t){return null==t?t===rt?ue:Qt:Pf&&Pf in sf(t)?Mo(t):Vo(t)}function fr(t,e){return t>e}function gr(t,e){return null!=t&&gf.call(t,e)}function xr(t,e){return null!=t&&e in sf(t)}function Er(t,e,n){return t>=Zf(e,n)&&t<Vf(e,n)}function Tr(t,e,n){for(var r=n?p:l,i=t[0].length,o=t.length,u=o,a=nf(o),s=1/0,c=[];u--;){var f=t[u];u&&e&&(f=h(f,z(e))),s=Zf(f.length,s),a[u]=!n&&(e||i>=120&&f.length>=120)?new yn(u&&f):rt}f=t[0];var d=-1,v=a[0];t:for(;++d<i&&c.length<s;){var y=f[d],g=e?e(y):y;if(y=n||0!==y?y:0,!(v?I(v,g):r(c,g,n))){for(u=o;--u;){var _=a[u];if(!(_?I(_,g):r(t[u],g,n)))continue t}v&&v.push(g),c.push(y)}}return c}function Mr(t,e,n,r){return tr(t,function(t,i,o){e(r,n(t),i,o)}),r}function Or(t,e,n){e=Ti(e,t),t=Ko(t,e);var r=null==t?t:t[Jo(xu(e))];return null==r?rt:o(r,t,n)}function jr(t){return os(t)&&cr(t)==Bt}function Cr(t){return os(t)&&cr(t)==ce}function Rr(t){return os(t)&&cr(t)==Wt}function kr(t,e,n,r,i){return t===e||(null==t||null==e||!os(t)&&!os(e)?t!==t&&e!==e:Sr(t,e,n,r,kr,i))}function Sr(t,e,n,r,i,o){var u=gp(t),a=gp(e),s=u?Nt:jl(t),c=a?Nt:jl(e);s=s==Bt?Jt:s,c=c==Bt?Jt:c;var f=s==Jt,l=c==Jt,p=s==c;if(p&&mp(t)){if(!mp(e))return!1;u=!0,f=!1}if(p&&!f)return o||(o=new mn),u||Tp(t)?po(t,e,n,r,i,o):ho(t,e,s,n,r,i,o);if(!(n&dt)){var h=f&&gf.call(t,"__wrapped__"),d=l&&gf.call(e,"__wrapped__");if(h||d){var v=h?t.value():t,y=d?e.value():e;return o||(o=new mn),i(v,y,n,r,o)}}return!!p&&(o||(o=new mn),vo(t,e,n,r,i,o))}function Ar(t){return os(t)&&jl(t)==Xt}function zr(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=sf(t);i--;){var a=n[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var s=a[0],c=t[s],f=a[1];if(u&&a[2]){if(c===rt&&!(s in t))return!1}else{var l=new mn;if(r)var p=r(c,f,s,t,e,l);if(!(p===rt?kr(f,c,dt|vt,r,l):p))return!1}}return!0}function Pr(t){if(!is(t)||Lo(t))return!1;var e=es(t)?Ef:Ze;return e.test(tu(t))}function Ir(t){return os(t)&&cr(t)==ne}function Dr(t){return os(t)&&jl(t)==re}function Hr(t){return os(t)&&rs(t.length)&&!!Gn[cr(t)]}function Fr(t){return"function"==typeof t?t:null==t?kc:"object"==typeof t?gp(t)?qr(t[0],t[1]):Ur(t):Fc(t)}function Lr(t){if(!$o(t))return Wf(t);var e=[];for(var n in sf(t))gf.call(t,n)&&"constructor"!=n&&e.push(n);return e}function $r(t){if(!is(t))return Wo(t);var e=$o(t),n=[];for(var r in t)("constructor"!=r||!e&&gf.call(t,r))&&n.push(r);return n}function Br(t,e){return t<e}function Nr(t,e){var n=-1,r=Va(t)?nf(t.length):[];return vl(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Ur(t){var e=Eo(t);return 1==e.length&&e[0][2]?No(e[0][0],e[0][1]):function(n){return n===t||zr(n,t,e)}}function qr(t,e){return Do(t)&&Bo(e)?No(Jo(t),e):function(n){var r=Hs(n,t);return r===rt&&r===e?Ls(n,t):kr(e,r,dt|vt)}}function Wr(t,e,n,r,i){t!==e&&gl(e,function(o,u){if(is(o))i||(i=new mn),Vr(t,e,u,n,Wr,r,i);else{var a=r?r(Z(t,u),o,u+"",t,e,i):rt;a===rt&&(a=o),Rn(t,u,a)}},Bs)}function Vr(t,e,n,r,i,o,u){var a=Z(t,n),s=Z(e,n),c=u.get(s);if(c)return void Rn(t,n,c);var f=o?o(a,s,n+"",t,e,u):rt,l=f===rt;if(l){var p=gp(s),h=!p&&mp(s),d=!p&&!h&&Tp(s);f=s,p||h||d?gp(a)?f=a:Za(a)?f=Di(a):h?(l=!1,f=Oi(s,!0)):d?(l=!1,f=Si(s,!0)):f=[]:hs(s)||yp(s)?(f=a,yp(a)?f=Ms(a):(!is(a)||r&&es(a))&&(f=ko(s))):l=!1}l&&(u.set(s,f),i(f,s,r,o,u),u.delete(s)),Rn(t,n,f)}function Zr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Po(e,n)?t[e]:rt}function Kr(t,e,n){var r=-1;e=h(e.length?e:[kc],z(xo()));var i=Nr(t,function(t,n,i){var o=h(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return R(i,function(t,e){return zi(t,e,n)})}function Gr(t,e){return Xr(t,e,function(e,n){return Ls(t,n)})}function Xr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var u=e[r],a=ur(t,u);n(a,u)&&ui(o,Ti(u,t),a)}return o}function Yr(t){return function(e){return ur(e,t)}}function Qr(t,e,n,r){var i=r?E:w,o=-1,u=e.length,a=t;for(t===e&&(e=Di(e)),n&&(a=h(t,z(n)));++o<u;)for(var s=0,c=e[o],f=n?n(c):c;(s=i(a,f,s,r))>-1;)a!==t&&Sf.call(a,s,1),Sf.call(t,s,1);return t}function Jr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Po(i)?Sf.call(t,i,1):yi(t,i)}}return t}function ti(t,e){return t+$f(Xf()*(e-t+1))}function ei(t,e,n,r){for(var i=-1,o=Vf(Lf((e-t)/(n||1)),0),u=nf(o);o--;)u[r?o:++i]=t,t+=n;return u}function ni(t,e){var n="";if(!t||e<1||e>Pt)return n;do e%2&&(n+=t),e=$f(e/2),e&&(t+=t);while(e);return n}function ri(t,e){return Sl(Zo(t,e,kc),t+"")}function ii(t){return On(Js(t))}function oi(t,e){var n=Js(t);return Qo(n,Hn(e,0,n.length))}function ui(t,e,n,r){if(!is(t))return t;e=Ti(e,t);for(var i=-1,o=e.length,u=o-1,a=t;null!=a&&++i<o;){var s=Jo(e[i]),c=n;if(i!=u){var f=a[s];c=r?r(f,s,a):rt,c===rt&&(c=is(f)?f:Po(e[i+1])?[]:{})}kn(a,s,c),a=a[s]}return t}function ai(t){return Qo(Js(t))}function si(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=nf(i);++r<i;)o[r]=t[r+e];return o}function ci(t,e){var n;return vl(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function fi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Lt){for(;r<i;){var o=r+i>>>1,u=t[o];null!==u&&!ys(u)&&(n?u<=e:u<e)?r=o+1:i=o}return i}return li(t,e,kc,n)}function li(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,u=e!==e,a=null===e,s=ys(e),c=e===rt;i<o;){var f=$f((i+o)/2),l=n(t[f]),p=l!==rt,h=null===l,d=l===l,v=ys(l);if(u)var y=r||d;else y=c?d&&(r||p):a?d&&p&&(r||!h):s?d&&p&&!h&&(r||!v):!h&&!v&&(r?l<=e:l<e);y?i=f+1:o=f}return Zf(o,Ft)}function pi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n],a=e?e(u):u;if(!n||!Wa(a,s)){var s=a;o[i++]=0===u?0:u}}return o}function hi(t){return"number"==typeof t?t:ys(t)?Dt:+t}function di(t){if("string"==typeof t)return t;if(gp(t))return h(t,di)+"";if(ys(t))return hl?hl.call(t):"";var e=t+"";return"0"==e&&1/t==-zt?"-0":e}function vi(t,e,n){var r=-1,i=l,o=t.length,u=!0,a=[],s=a;if(n)u=!1,i=p;else if(o>=ot){var c=e?null:El(t);if(c)return K(c);u=!1,i=I,s=new yn}else s=e?[]:a;t:for(;++r<o;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,u&&h===h){for(var d=s.length;d--;)if(s[d]===h)continue t;e&&s.push(h),a.push(f)}else i(s,h,n)||(s!==a&&s.push(h),a.push(f))}return a}function yi(t,e){return e=Ti(e,t),t=Ko(t,e),null==t||delete t[Jo(xu(e))]}function gi(t,e,n,r){return ui(t,e,n(ur(t,e)),r)}function _i(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?si(t,r?0:o,r?o+1:i):si(t,r?o+1:0,r?i:o)}function mi(t,e){var n=t;return n instanceof _&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function bi(t,e,n){var r=t.length;if(r<2)return r?vi(t[0]):[];for(var i=-1,o=nf(r);++i<r;)for(var u=t[i],a=-1;++a<r;)a!=i&&(o[i]=qn(o[i]||u,t[a],e,n));return vi(Jn(o,1),e,n)}function xi(t,e,n){for(var r=-1,i=t.length,o=e.length,u={};++r<i;){var a=r<o?e[r]:rt;n(u,t[r],a)}return u}function wi(t){return Za(t)?t:[]}function Ei(t){return"function"==typeof t?t:kc}function Ti(t,e){return gp(t)?t:Do(t,e)?[t]:Al(js(t))}function Mi(t,e,n){var r=t.length;return n=n===rt?r:n,!e&&n>=r?t:si(t,e,n)}function Oi(t,e){if(e)return t.slice();var n=t.length,r=jf?jf(n):new t.constructor(n);return t.copy(r),r}function ji(t){var e=new t.constructor(t.byteLength);return new Of(e).set(new Of(t)),e}function Ci(t,e){var n=e?ji(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ri(t){var e=new t.constructor(t.source,qe.exec(t));return e.lastIndex=t.lastIndex,e}function ki(t){return pl?sf(pl.call(t)):{}}function Si(t,e){var n=e?ji(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ai(t,e){if(t!==e){var n=t!==rt,r=null===t,i=t===t,o=ys(t),u=e!==rt,a=null===e,s=e===e,c=ys(e);if(!a&&!c&&!o&&t>e||o&&u&&s&&!a&&!c||r&&u&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!u&&i||!s)return-1}return 0}function zi(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,u=i.length,a=n.length;++r<u;){var s=Ai(i[r],o[r]);if(s){if(r>=a)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}function Pi(t,e,n,r){for(var i=-1,o=t.length,u=n.length,a=-1,s=e.length,c=Vf(o-u,0),f=nf(s+c),l=!r;++a<s;)f[a]=e[a];for(;++i<u;)(l||i<o)&&(f[n[i]]=t[i]);for(;c--;)f[a++]=t[i++];return f}function Ii(t,e,n,r){for(var i=-1,o=t.length,u=-1,a=n.length,s=-1,c=e.length,f=Vf(o-a,0),l=nf(f+c),p=!r;++i<f;)l[i]=t[i];for(var h=i;++s<c;)l[h+s]=e[s];for(;++u<a;)(p||i<o)&&(l[h+n[u]]=t[i++]);return l}function Di(t,e){var n=-1,r=t.length;for(e||(e=nf(r));++n<r;)e[n]=t[n];return e}function Hi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,u=e.length;++o<u;){var a=e[o],s=r?r(n[a],t[a],a,n,t):rt;s===rt&&(s=t[a]),i?In(n,a,s):kn(n,a,s)}return n}function Fi(t,e){return Hi(t,Ml(t),e)}function Li(t,e){return Hi(t,Ol(t),e)}function $i(t,e){return function(n,r){var i=gp(n)?u:An,o=e?e():{};return i(n,t,xo(r,2),o)}}function Bi(t){return ri(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:rt,u=i>2?n[2]:rt;for(o=t.length>3&&"function"==typeof o?(i--,o):rt,u&&Io(n[0],n[1],u)&&(o=i<3?rt:o,i=1),e=sf(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}function Ni(t,e){return function(n,r){if(null==n)return n;if(!Va(n))return t(n,r);for(var i=n.length,o=e?i:-1,u=sf(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}function Ui(t){return function(e,n,r){for(var i=-1,o=sf(e),u=r(e),a=u.length;a--;){var s=u[t?a:++i];if(n(o[s],s,o)===!1)break}return e}}function qi(t,e,n){function r(){var e=this&&this!==or&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&yt,o=Zi(t);return r}function Wi(t){return function(e){e=js(e);var n=B(e)?J(e):rt,r=n?n[0]:e.charAt(0),i=n?Mi(n,1).join(""):e.slice(1);return r[t]()+i}}function Vi(t){return function(e){return v(Mc(oc(e).replace(Bn,"")),t,"")}}function Zi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dl(t.prototype),r=t.apply(n,e);return is(r)?r:n}}function Ki(t,e,n){function r(){for(var u=arguments.length,a=nf(u),s=u,c=bo(r);s--;)a[s]=arguments[s];var f=u<3&&a[0]!==c&&a[u-1]!==c?[]:V(a,c);if(u-=f.length,u<n)return oo(t,e,Yi,r.placeholder,rt,a,f,rt,rt,n-u);var l=this&&this!==or&&this instanceof r?i:t;return o(l,this,a)}var i=Zi(t);return r}function Gi(t){return function(e,n,r){var i=sf(e);if(!Va(e)){var o=xo(n,3);e=$s(e),n=function(t){return o(i[t],t,i)}}var u=t(e,n,r);return u>-1?i[o?e[u]:u]:rt}}function Xi(t){return yo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var u=e[r];if("function"!=typeof u)throw new lf(at);if(o&&!a&&"wrapper"==mo(u))var a=new i([],!0)}for(r=a?r:n;++r<n;){u=e[r];var s=mo(u),c="wrapper"==s?Tl(u):rt;a=c&&Fo(c[0])&&c[1]==(Et|mt|xt|Tt)&&!c[4].length&&1==c[9]?a[mo(c[0])].apply(a,c[3]):1==u.length&&Fo(u)?a[s]():a.thru(u)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&gp(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Yi(t,e,n,r,i,o,u,a,s,c){function f(){for(var g=arguments.length,_=nf(g),m=g;m--;)_[m]=arguments[m];if(d)var b=bo(f),x=F(_,b);if(r&&(_=Pi(_,r,i,d)),o&&(_=Ii(_,o,u,d)),g-=x,d&&g<c){var w=V(_,b);return oo(t,e,Yi,f.placeholder,n,_,w,a,s,c-g)}var E=p?n:this,T=h?E[t]:t;return g=_.length,a?_=Go(_,a):v&&g>1&&_.reverse(),l&&s<g&&(_.length=s),this&&this!==or&&this instanceof f&&(T=y||Zi(T)),T.apply(E,_)}var l=e&Et,p=e&yt,h=e&gt,d=e&(mt|bt),v=e&Mt,y=h?rt:Zi(t);return f}function Qi(t,e){return function(n,r){return Mr(n,t,e(r),{})}}function Ji(t,e){return function(n,r){var i;if(n===rt&&r===rt)return e;if(n!==rt&&(i=n),r!==rt){if(i===rt)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=hi(n),r=hi(r)),i=t(n,r)}return i}}function to(t){return yo(function(e){return e=h(e,z(xo())),ri(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function eo(t,e){e=e===rt?" ":di(e);var n=e.length;if(n<2)return n?ni(e,t):e;var r=ni(e,Lf(t/Q(e)));return B(e)?Mi(J(r),0,t).join(""):r.slice(0,t)}function no(t,e,n,r){function i(){for(var e=-1,s=arguments.length,c=-1,f=r.length,l=nf(f+s),p=this&&this!==or&&this instanceof i?a:t;++c<f;)l[c]=r[c];for(;s--;)l[c++]=arguments[++e];return o(p,u?n:this,l)}var u=e&yt,a=Zi(t);return i}function ro(t){return function(e,n,r){return r&&"number"!=typeof r&&Io(e,n,r)&&(n=r=rt),e=xs(e),n===rt?(n=e,e=0):n=xs(n),r=r===rt?e<n?1:-1:xs(r),ei(e,n,r,t)}}function io(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ts(e),n=Ts(n)),t(e,n)}}function oo(t,e,n,r,i,o,u,a,s,c){var f=e&mt,l=f?u:rt,p=f?rt:u,h=f?o:rt,d=f?rt:o;e|=f?xt:wt,e&=~(f?wt:xt),e&_t||(e&=~(yt|gt));var v=[t,e,i,h,l,d,p,a,s,c],y=n.apply(rt,v);return Fo(t)&&Rl(y,v),y.placeholder=r,Xo(y,t,e)}function uo(t){var e=af[t];return function(t,n){if(t=Ts(t),n=null==n?0:Zf(ws(n),292)){var r=(js(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(js(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ao(t){return function(e){var n=jl(e);return n==Xt?q(e):n==re?G(e):A(e,t(e))}}function so(t,e,n,r,i,o,u,a){var s=e&gt;if(!s&&"function"!=typeof t)throw new lf(at);var c=r?r.length:0;if(c||(e&=~(xt|wt),r=i=rt),u=u===rt?u:Vf(ws(u),0),a=a===rt?a:ws(a),c-=i?i.length:0,e&wt){var f=r,l=i;r=i=rt}var p=s?rt:Tl(t),h=[t,e,n,r,i,f,l,o,u,a];if(p&&qo(h,p),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],a=h[9]=h[9]===rt?s?0:t.length:Vf(h[9]-c,0),!a&&e&(mt|bt)&&(e&=~(mt|bt)),e&&e!=yt)d=e==mt||e==bt?Ki(t,e,a):e!=xt&&e!=(yt|xt)||i.length?Yi.apply(rt,h):no(t,e,n,r);else var d=qi(t,e,n);var v=p?ml:Rl;return Xo(v(d,h),t,e)}function co(t,e,n,r){return t===rt||Wa(t,df[n])&&!gf.call(r,n)?e:t}function fo(t,e,n,r,i,o){return is(t)&&is(e)&&(o.set(e,t),Wr(t,e,rt,fo,o),o.delete(e)),t}function lo(t){return hs(t)?rt:t}function po(t,e,n,r,i,o){var u=n&dt,a=t.length,s=e.length;if(a!=s&&!(u&&s>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var f=-1,l=!0,p=n&vt?new yn:rt;for(o.set(t,e),o.set(e,t);++f<a;){var h=t[f],d=e[f];if(r)var v=u?r(d,h,f,e,t,o):r(h,d,f,t,e,o);if(v!==rt){if(v)continue;l=!1;break}if(p){if(!g(e,function(t,e){if(!I(p,e)&&(h===t||i(h,t,n,r,o)))return p.push(e)})){l=!1;break}}else if(h!==d&&!i(h,d,n,r,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function ho(t,e,n,r,i,o,u){switch(n){case fe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ce:return!(t.byteLength!=e.byteLength||!o(new Of(t),new Of(e)));case qt:case Wt:case Yt:return Wa(+t,+e);case Zt:return t.name==e.name&&t.message==e.message;case ne:case ie:return t==e+"";case Xt:var a=q;case re:var s=r&dt;if(a||(a=K),t.size!=e.size&&!s)return!1;var c=u.get(t);if(c)return c==e;r|=vt,u.set(t,e);var f=po(a(t),a(e),r,i,o,u);return u.delete(t),f;case oe:if(pl)return pl.call(t)==pl.call(e)}return!1}function vo(t,e,n,r,i,o){var u=n&dt,a=go(t),s=a.length,c=go(e),f=c.length;if(s!=f&&!u)return!1;for(var l=s;l--;){var p=a[l];if(!(u?p in e:gf.call(e,p)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var v=u;++l<s;){p=a[l];var y=t[p],g=e[p];if(r)var _=u?r(g,y,p,e,t,o):r(y,g,p,t,e,o);if(!(_===rt?y===g||i(y,g,n,r,o):_)){d=!1;break}v||(v="constructor"==p)}if(d&&!v){var m=t.constructor,b=e.constructor;m!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(e),d}function yo(t){return Sl(Zo(t,rt,hu),t+"")}function go(t){return ar(t,$s,Ml)}function _o(t){return ar(t,Bs,Ol)}function mo(t){for(var e=t.name+"",n=ol[e],r=gf.call(ol,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function bo(t){var e=gf.call(n,"placeholder")?n:t;return e.placeholder}function xo(){var t=n.iteratee||Sc;return t=t===Sc?Fr:t,arguments.length?t(arguments[0],arguments[1]):t}function wo(t,e){var n=t.__data__;return Ho(e)?n["string"==typeof e?"string":"hash"]:n.map}function Eo(t){for(var e=$s(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Bo(i)]}return e}function To(t,e){var n=$(t,e);return Pr(n)?n:rt}function Mo(t){var e=gf.call(t,Pf),n=t[Pf];try{t[Pf]=rt;var r=!0}catch(t){}var i=bf.call(t);return r&&(e?t[Pf]=n:delete t[Pf]),i}function Oo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=Zf(e,t+u);break;case"takeRight":t=Vf(t,e-u)}}return{start:t,end:e}}function jo(t){var e=t.match(Le);return e?e[1].split($e):[]}function Co(t,e,n){e=Ti(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var u=Jo(e[r]);if(!(o=null!=t&&n(t,u)))break;t=t[u]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&rs(i)&&Po(u,i)&&(gp(t)||yp(t)))}function Ro(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&gf.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ko(t){return"function"!=typeof t.constructor||$o(t)?{}:dl(Cf(t))}function So(t,e,n){var r=t.constructor;switch(e){case ce:return ji(t);case qt:case Wt:return new r(+t);case fe:return Ci(t,n);case le:case pe:case he:case de:case ve:case ye:case ge:case _e:case me:return Si(t,n);case Xt:return new r;case Yt:case ie:return new r(t);case ne:return Ri(t);case re:return new r;case oe:return ki(t)}}function Ao(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Fe,"{\n/* [wrapped with "+e+"] */\n")}function zo(t){return gp(t)||yp(t)||!!(Af&&t&&t[Af])}function Po(t,e){var n=typeof t;return e=null==e?Pt:e,!!e&&("number"==n||"symbol"!=n&&Ge.test(t))&&t>-1&&t%1==0&&t<e}function Io(t,e,n){if(!is(n))return!1;var r=typeof e;return!!("number"==r?Va(n)&&Po(e,n.length):"string"==r&&e in n)&&Wa(n[e],t)}function Do(t,e){if(gp(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ys(t))||(Se.test(t)||!ke.test(t)||null!=e&&t in sf(e))}function Ho(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Fo(t){var e=mo(t),r=n[e];if("function"!=typeof r||!(e in _.prototype))return!1;if(t===r)return!0;var i=Tl(r);return!!i&&t===i[0]}function Lo(t){return!!mf&&mf in t}function $o(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||df;return t===n}function Bo(t){return t===t&&!is(t)}function No(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==rt||t in sf(n)))}}function Uo(t){var e=Sa(t,function(t){return n.size===ct&&n.clear(),t}),n=e.cache;return e}function qo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(yt|gt|Et),u=r==Et&&n==mt||r==Et&&n==Tt&&t[7].length<=e[8]||r==(Et|Tt)&&e[7].length<=e[8]&&n==mt;if(!o&&!u)return t;r&yt&&(t[2]=e[2],i|=n&yt?0:_t);var a=e[3];if(a){var s=t[3];t[3]=s?Pi(s,a,e[4]):a,t[4]=s?V(t[3],ft):e[4]}return a=e[5],a&&(s=t[5],t[5]=s?Ii(s,a,e[6]):a,t[6]=s?V(t[5],ft):e[6]),a=e[7],a&&(t[7]=a),r&Et&&(t[8]=null==t[8]?e[8]:Zf(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Wo(t){var e=[];if(null!=t)for(var n in sf(t))e.push(n);return e}function Vo(t){return bf.call(t)}function Zo(t,e,n){return e=Vf(e===rt?t.length-1:e,0),function(){for(var r=arguments,i=-1,u=Vf(r.length-e,0),a=nf(u);++i<u;)a[i]=r[e+i];i=-1;for(var s=nf(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),o(t,this,s)}}function Ko(t,e){return e.length<2?t:ur(t,si(e,0,-1))}function Go(t,e){for(var n=t.length,r=Zf(e.length,n),i=Di(t);r--;){var o=e[r];t[r]=Po(o,n)?i[o]:rt}return t}function Xo(t,e,n){var r=e+"";return Sl(t,Ao(r,eu(jo(r),n)))}function Yo(t){var e=0,n=0;return function(){var r=Kf(),i=Rt-(r-n);if(n=r,i>0){if(++e>=Ct)return arguments[0]}else e=0;return t.apply(rt,arguments)}}function Qo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===rt?r:e;++n<e;){var o=ti(n,i),u=t[o];t[o]=t[n],t[n]=u}return t.length=e,t}function Jo(t){if("string"==typeof t||ys(t))return t;var e=t+"";return"0"==e&&1/t==-zt?"-0":e}function tu(t){if(null!=t){try{return yf.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function eu(t,e){return a($t,function(n){var r="_."+n[0];e&n[1]&&!l(t,r)&&t.push(r)}),t.sort()}function nu(t){if(t instanceof _)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Di(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ru(t,e,n){e=(n?Io(t,e,n):e===rt)?1:Vf(ws(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,u=nf(Lf(r/e));i<r;)u[o++]=si(t,i,i+=e);return u}function iu(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ou(){var t=arguments.length;if(!t)return[];for(var e=nf(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return d(gp(n)?Di(n):[n],Jn(e,1))}function uu(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:ws(e),si(t,e<0?0:e,r)):[]}function au(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:ws(e),e=r-e,si(t,0,e<0?0:e)):[]}function su(t,e){return t&&t.length?_i(t,xo(e,3),!0,!0):[]}function cu(t,e){return t&&t.length?_i(t,xo(e,3),!0):[]}function fu(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Io(t,e,n)&&(n=0,r=i),Yn(t,e,n,r)):[]}function lu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ws(n);return i<0&&(i=Vf(r+i,0)),x(t,xo(e,3),i)}function pu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==rt&&(i=ws(n),i=n<0?Vf(r+i,0):Zf(i,r-1)),x(t,xo(e,3),i,!0)}function hu(t){var e=null==t?0:t.length;return e?Jn(t,1):[]}function du(t){var e=null==t?0:t.length;return e?Jn(t,zt):[]}function vu(t,e){var n=null==t?0:t.length;return n?(e=e===rt?1:ws(e),Jn(t,e)):[]}function yu(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function gu(t){return t&&t.length?t[0]:rt}function _u(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ws(n);return i<0&&(i=Vf(r+i,0)),w(t,e,i)}function mu(t){var e=null==t?0:t.length;return e?si(t,0,-1):[]}function bu(t,e){return null==t?"":qf.call(t,e)}function xu(t){var e=null==t?0:t.length;return e?t[e-1]:rt}function wu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==rt&&(i=ws(n),i=i<0?Vf(r+i,0):Zf(i,r-1)),e===e?Y(t,e,i):x(t,T,i,!0)}function Eu(t,e){return t&&t.length?Zr(t,ws(e)):rt}function Tu(t,e){return t&&t.length&&e&&e.length?Qr(t,e):t}function Mu(t,e,n){return t&&t.length&&e&&e.length?Qr(t,e,xo(n,2)):t}function Ou(t,e,n){return t&&t.length&&e&&e.length?Qr(t,e,rt,n):t}function ju(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=xo(e,3);++r<o;){var u=t[r];e(u,r,t)&&(n.push(u),i.push(r))}return Jr(t,i),n}function Cu(t){return null==t?t:Yf.call(t)}function Ru(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Io(t,e,n)?(e=0,n=r):(e=null==e?0:ws(e),n=n===rt?r:ws(n)),si(t,e,n)):[]}function ku(t,e){return fi(t,e)}function Su(t,e,n){return li(t,e,xo(n,2))}function Au(t,e){var n=null==t?0:t.length;if(n){var r=fi(t,e);if(r<n&&Wa(t[r],e))return r}return-1}function zu(t,e){return fi(t,e,!0)}function Pu(t,e,n){return li(t,e,xo(n,2),!0)}function Iu(t,e){var n=null==t?0:t.length;if(n){var r=fi(t,e,!0)-1;if(Wa(t[r],e))return r}return-1}function Du(t){return t&&t.length?pi(t):[]}function Hu(t,e){return t&&t.length?pi(t,xo(e,2)):[]}function Fu(t){var e=null==t?0:t.length;return e?si(t,1,e):[]}function Lu(t,e,n){return t&&t.length?(e=n||e===rt?1:ws(e),si(t,0,e<0?0:e)):[]}function $u(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===rt?1:ws(e),e=r-e,si(t,e<0?0:e,r)):[]}function Bu(t,e){return t&&t.length?_i(t,xo(e,3),!1,!0):[]}function Nu(t,e){return t&&t.length?_i(t,xo(e,3)):[]}function Uu(t){return t&&t.length?vi(t):[]}function qu(t,e){return t&&t.length?vi(t,xo(e,2)):[]}function Wu(t,e){return e="function"==typeof e?e:rt,t&&t.length?vi(t,rt,e):[]}function Vu(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Za(t))return e=Vf(t.length,e),!0}),S(e,function(e){return h(t,O(e))})}function Zu(t,e){if(!t||!t.length)return[];var n=Vu(t);return null==e?n:h(n,function(t){return o(e,rt,t)})}function Ku(t,e){return xi(t||[],e||[],kn)}function Gu(t,e){return xi(t||[],e||[],ui)}function Xu(t){var e=n(t);return e.__chain__=!0,e}function Yu(t,e){return e(t),t}function Qu(t,e){return e(t)}function Ju(){return Xu(this)}function ta(){return new i(this.value(),this.__chain__)}function ea(){this.__values__===rt&&(this.__values__=bs(this.value()));var t=this.__index__>=this.__values__.length,e=t?rt:this.__values__[this.__index__++];return{done:t,value:e}}function na(){return this}function ra(t){for(var e,n=this;n instanceof r;){var i=nu(n);i.__index__=0,i.__values__=rt,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function ia(){var t=this.__wrapped__;if(t instanceof _){var e=t;return this.__actions__.length&&(e=new _(this)),e=e.reverse(),e.__actions__.push({func:Qu,args:[Cu],thisArg:rt}),new i(e,this.__chain__)}return this.thru(Cu)}function oa(){return mi(this.__wrapped__,this.__actions__)}function ua(t,e,n){var r=gp(t)?c:Wn;return n&&Io(t,e,n)&&(e=rt),r(t,xo(e,3))}function aa(t,e){var n=gp(t)?f:Qn;return n(t,xo(e,3))}function sa(t,e){return Jn(da(t,e),1)}function ca(t,e){return Jn(da(t,e),zt)}function fa(t,e,n){return n=n===rt?1:ws(n),Jn(da(t,e),n)}function la(t,e){var n=gp(t)?a:vl;return n(t,xo(e,3))}function pa(t,e){var n=gp(t)?s:yl;return n(t,xo(e,3))}function ha(t,e,n,r){t=Va(t)?t:Js(t),n=n&&!r?ws(n):0;var i=t.length;return n<0&&(n=Vf(i+n,0)),vs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1}function da(t,e){var n=gp(t)?h:Nr;return n(t,xo(e,3))}function va(t,e,n,r){return null==t?[]:(gp(e)||(e=null==e?[]:[e]),n=r?rt:n,gp(n)||(n=null==n?[]:[n]),Kr(t,e,n))}function ya(t,e,n){var r=gp(t)?v:C,i=arguments.length<3;return r(t,xo(e,4),n,i,vl)}function ga(t,e,n){var r=gp(t)?y:C,i=arguments.length<3;return r(t,xo(e,4),n,i,yl)}function _a(t,e){var n=gp(t)?f:Qn;return n(t,Aa(xo(e,3)))}function ma(t){var e=gp(t)?On:ii;return e(t)}function ba(t,e,n){e=(n?Io(t,e,n):e===rt)?1:ws(e);var r=gp(t)?jn:oi;return r(t,e)}function xa(t){var e=gp(t)?Cn:ai;return e(t)}function wa(t){if(null==t)return 0;if(Va(t))return vs(t)?Q(t):t.length;var e=jl(t);return e==Xt||e==re?t.size:Lr(t).length}function Ea(t,e,n){var r=gp(t)?g:ci;return n&&Io(t,e,n)&&(e=rt),r(t,xo(e,3))}function Ta(t,e){if("function"!=typeof e)throw new lf(at);return t=ws(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ma(t,e,n){return e=n?rt:e,e=t&&null==e?t.length:e,so(t,Et,rt,rt,rt,rt,e)}function Oa(t,e){var n;if("function"!=typeof e)throw new lf(at);return t=ws(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=rt),n}}function ja(t,e,n){e=n?rt:e;var r=so(t,mt,rt,rt,rt,rt,rt,e);return r.placeholder=ja.placeholder,r}function Ca(t,e,n){e=n?rt:e;var r=so(t,bt,rt,rt,rt,rt,rt,e);return r.placeholder=Ca.placeholder,r}function Ra(t,e,n){function r(e){var n=p,r=h;return p=h=rt,_=e,v=t.apply(r,n)}function i(t){return _=t,y=kl(a,e),m?r(t):v}function o(t){var n=t-g,r=t-_,i=e-n;return b?Zf(i,d-r):i}function u(t){var n=t-g,r=t-_;return g===rt||n>=e||n<0||b&&r>=d}function a(){var t=op();return u(t)?s(t):void(y=kl(a,o(t)))}function s(t){return y=rt,x&&p?r(t):(p=h=rt,v)}function c(){y!==rt&&wl(y),_=0,p=g=h=y=rt}function f(){return y===rt?v:s(op())}function l(){var t=op(),n=u(t);if(p=arguments,h=this,g=t,n){if(y===rt)return i(g);if(b)return y=kl(a,e),r(g)}return y===rt&&(y=kl(a,e)),v}var p,h,d,v,y,g,_=0,m=!1,b=!1,x=!0;if("function"!=typeof t)throw new lf(at);return e=Ts(e)||0,is(n)&&(m=!!n.leading,b="maxWait"in n,d=b?Vf(Ts(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),l.cancel=c,l.flush=f,l}function ka(t){return so(t,Mt)}function Sa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new lf(at);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(Sa.Cache||fn),n}function Aa(t){if("function"!=typeof t)throw new lf(at);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function za(t){return Oa(2,t)}function Pa(t,e){if("function"!=typeof t)throw new lf(at);return e=e===rt?e:ws(e),ri(t,e)}function Ia(t,e){if("function"!=typeof t)throw new lf(at);return e=null==e?0:Vf(ws(e),0),ri(function(n){var r=n[e],i=Mi(n,0,e);return r&&d(i,r),o(t,this,i)})}function Da(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new lf(at);return is(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ra(t,e,{leading:r,maxWait:e,trailing:i})}function Ha(t){return Ma(t,1)}function Fa(t,e){return lp(Ei(e),t)}function La(){if(!arguments.length)return[];var t=arguments[0];return gp(t)?t:[t]}function $a(t){return Fn(t,ht)}function Ba(t,e){return e="function"==typeof e?e:rt,Fn(t,ht,e)}function Na(t){return Fn(t,lt|ht)}function Ua(t,e){return e="function"==typeof e?e:rt,
Fn(t,lt|ht,e)}function qa(t,e){return null==e||$n(t,e,$s(e))}function Wa(t,e){return t===e||t!==t&&e!==e}function Va(t){return null!=t&&rs(t.length)&&!es(t)}function Za(t){return os(t)&&Va(t)}function Ka(t){return t===!0||t===!1||os(t)&&cr(t)==qt}function Ga(t){return os(t)&&1===t.nodeType&&!hs(t)}function Xa(t){if(null==t)return!0;if(Va(t)&&(gp(t)||"string"==typeof t||"function"==typeof t.splice||mp(t)||Tp(t)||yp(t)))return!t.length;var e=jl(t);if(e==Xt||e==re)return!t.size;if($o(t))return!Lr(t).length;for(var n in t)if(gf.call(t,n))return!1;return!0}function Ya(t,e){return kr(t,e)}function Qa(t,e,n){n="function"==typeof n?n:rt;var r=n?n(t,e):rt;return r===rt?kr(t,e,rt,n):!!r}function Ja(t){if(!os(t))return!1;var e=cr(t);return e==Zt||e==Vt||"string"==typeof t.message&&"string"==typeof t.name&&!hs(t)}function ts(t){return"number"==typeof t&&Uf(t)}function es(t){if(!is(t))return!1;var e=cr(t);return e==Kt||e==Gt||e==Ut||e==ee}function ns(t){return"number"==typeof t&&t==ws(t)}function rs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Pt}function is(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function os(t){return null!=t&&"object"==typeof t}function us(t,e){return t===e||zr(t,e,Eo(e))}function as(t,e,n){return n="function"==typeof n?n:rt,zr(t,e,Eo(e),n)}function ss(t){return ps(t)&&t!=+t}function cs(t){if(Cl(t))throw new of(ut);return Pr(t)}function fs(t){return null===t}function ls(t){return null==t}function ps(t){return"number"==typeof t||os(t)&&cr(t)==Yt}function hs(t){if(!os(t)||cr(t)!=Jt)return!1;var e=Cf(t);if(null===e)return!0;var n=gf.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&yf.call(n)==xf}function ds(t){return ns(t)&&t>=-Pt&&t<=Pt}function vs(t){return"string"==typeof t||!gp(t)&&os(t)&&cr(t)==ie}function ys(t){return"symbol"==typeof t||os(t)&&cr(t)==oe}function gs(t){return t===rt}function _s(t){return os(t)&&jl(t)==ae}function ms(t){return os(t)&&cr(t)==se}function bs(t){if(!t)return[];if(Va(t))return vs(t)?J(t):Di(t);if(zf&&t[zf])return U(t[zf]());var e=jl(t),n=e==Xt?q:e==re?K:Js;return n(t)}function xs(t){if(!t)return 0===t?t:0;if(t=Ts(t),t===zt||t===-zt){var e=t<0?-1:1;return e*It}return t===t?t:0}function ws(t){var e=xs(t),n=e%1;return e===e?n?e-n:e:0}function Es(t){return t?Hn(ws(t),0,Ht):0}function Ts(t){if("number"==typeof t)return t;if(ys(t))return Dt;if(is(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=is(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ie,"");var n=Ve.test(t);return n||Ke.test(t)?nr(t.slice(2),n?2:8):We.test(t)?Dt:+t}function Ms(t){return Hi(t,Bs(t))}function Os(t){return t?Hn(ws(t),-Pt,Pt):0===t?t:0}function js(t){return null==t?"":di(t)}function Cs(t,e){var n=dl(t);return null==e?n:zn(n,e)}function Rs(t,e){return b(t,xo(e,3),tr)}function ks(t,e){return b(t,xo(e,3),rr)}function Ss(t,e){return null==t?t:gl(t,xo(e,3),Bs)}function As(t,e){return null==t?t:_l(t,xo(e,3),Bs)}function zs(t,e){return t&&tr(t,xo(e,3))}function Ps(t,e){return t&&rr(t,xo(e,3))}function Is(t){return null==t?[]:ir(t,$s(t))}function Ds(t){return null==t?[]:ir(t,Bs(t))}function Hs(t,e,n){var r=null==t?rt:ur(t,e);return r===rt?n:r}function Fs(t,e){return null!=t&&Co(t,e,gr)}function Ls(t,e){return null!=t&&Co(t,e,xr)}function $s(t){return Va(t)?Mn(t):Lr(t)}function Bs(t){return Va(t)?Mn(t,!0):$r(t)}function Ns(t,e){var n={};return e=xo(e,3),tr(t,function(t,r,i){In(n,e(t,r,i),t)}),n}function Us(t,e){var n={};return e=xo(e,3),tr(t,function(t,r,i){In(n,r,e(t,r,i))}),n}function qs(t,e){return Ws(t,Aa(xo(e)))}function Ws(t,e){if(null==t)return{};var n=h(_o(t),function(t){return[t]});return e=xo(e),Xr(t,n,function(t,n){return e(t,n[0])})}function Vs(t,e,n){e=Ti(e,t);var r=-1,i=e.length;for(i||(i=1,t=rt);++r<i;){var o=null==t?rt:t[Jo(e[r])];o===rt&&(r=i,o=n),t=es(o)?o.call(t):o}return t}function Zs(t,e,n){return null==t?t:ui(t,e,n)}function Ks(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:ui(t,e,n,r)}function Gs(t,e,n){var r=gp(t),i=r||mp(t)||Tp(t);if(e=xo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:is(t)&&es(o)?dl(Cf(t)):{}}return(i?a:tr)(t,function(t,r,i){return e(n,t,r,i)}),n}function Xs(t,e){return null==t||yi(t,e)}function Ys(t,e,n){return null==t?t:gi(t,e,Ei(n))}function Qs(t,e,n,r){return r="function"==typeof r?r:rt,null==t?t:gi(t,e,Ei(n),r)}function Js(t){return null==t?[]:P(t,$s(t))}function tc(t){return null==t?[]:P(t,Bs(t))}function ec(t,e,n){return n===rt&&(n=e,e=rt),n!==rt&&(n=Ts(n),n=n===n?n:0),e!==rt&&(e=Ts(e),e=e===e?e:0),Hn(Ts(t),e,n)}function nc(t,e,n){return e=xs(e),n===rt?(n=e,e=0):n=xs(n),t=Ts(t),Er(t,e,n)}function rc(t,e,n){if(n&&"boolean"!=typeof n&&Io(t,e,n)&&(e=n=rt),n===rt&&("boolean"==typeof e?(n=e,e=rt):"boolean"==typeof t&&(n=t,t=rt)),t===rt&&e===rt?(t=0,e=1):(t=xs(t),e===rt?(e=t,t=0):e=xs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Xf();return Zf(t+i*(e-t+er("1e-"+((i+"").length-1))),e)}return ti(t,e)}function ic(t){return Xp(js(t).toLowerCase())}function oc(t){return t=js(t),t&&t.replace(Xe,_r).replace(Nn,"")}function uc(t,e,n){t=js(t),e=di(e);var r=t.length;n=n===rt?r:Hn(ws(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function ac(t){return t=js(t),t&&Oe.test(t)?t.replace(Te,mr):t}function sc(t){return t=js(t),t&&Pe.test(t)?t.replace(ze,"\\$&"):t}function cc(t,e,n){t=js(t),e=ws(e);var r=e?Q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return eo($f(i),n)+t+eo(Lf(i),n)}function fc(t,e,n){t=js(t),e=ws(e);var r=e?Q(t):0;return e&&r<e?t+eo(e-r,n):t}function lc(t,e,n){t=js(t),e=ws(e);var r=e?Q(t):0;return e&&r<e?eo(e-r,n)+t:t}function pc(t,e,n){return n||null==e?e=0:e&&(e=+e),Gf(js(t).replace(De,""),e||0)}function hc(t,e,n){return e=(n?Io(t,e,n):e===rt)?1:ws(e),ni(js(t),e)}function dc(){var t=arguments,e=js(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function vc(t,e,n){return n&&"number"!=typeof n&&Io(t,e,n)&&(e=n=rt),(n=n===rt?Ht:n>>>0)?(t=js(t),t&&("string"==typeof e||null!=e&&!wp(e))&&(e=di(e),!e&&B(t))?Mi(J(t),0,n):t.split(e,n)):[]}function yc(t,e,n){return t=js(t),n=null==n?0:Hn(ws(n),0,t.length),e=di(e),t.slice(n,n+e.length)==e}function gc(t,e,r){var i=n.templateSettings;r&&Io(t,e,r)&&(e=rt),t=js(t),e=Rp({},e,i,co);var o,u,a=Rp({},e.imports,i.imports,co),s=$s(a),c=P(a,s),f=0,l=e.interpolate||Ye,p="__p += '",h=cf((e.escape||Ye).source+"|"+l.source+"|"+(l===Re?Ue:Ye).source+"|"+(e.evaluate||Ye).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Kn+"]")+"\n";t.replace(h,function(e,n,r,i,a,s){return r||(r=i),p+=t.slice(f,s).replace(Qe,L),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+e.length,e}),p+="';\n";var v=e.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(be,""):p).replace(xe,"$1").replace(we,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Yp(function(){return uf(s,d+"return "+p).apply(rt,c)});if(y.source=p,Ja(y))throw y;return y}function _c(t){return js(t).toLowerCase()}function mc(t){return js(t).toUpperCase()}function bc(t,e,n){if(t=js(t),t&&(n||e===rt))return t.replace(Ie,"");if(!t||!(e=di(e)))return t;var r=J(t),i=J(e),o=D(r,i),u=H(r,i)+1;return Mi(r,o,u).join("")}function xc(t,e,n){if(t=js(t),t&&(n||e===rt))return t.replace(He,"");if(!t||!(e=di(e)))return t;var r=J(t),i=H(r,J(e))+1;return Mi(r,0,i).join("")}function wc(t,e,n){if(t=js(t),t&&(n||e===rt))return t.replace(De,"");if(!t||!(e=di(e)))return t;var r=J(t),i=D(r,J(e));return Mi(r,i).join("")}function Ec(t,e){var n=Ot,r=jt;if(is(e)){var i="separator"in e?e.separator:i;n="length"in e?ws(e.length):n,r="omission"in e?di(e.omission):r}t=js(t);var o=t.length;if(B(t)){var u=J(t);o=u.length}if(n>=o)return t;var a=n-Q(r);if(a<1)return r;var s=u?Mi(u,0,a).join(""):t.slice(0,a);if(i===rt)return s+r;if(u&&(a+=s.length-a),wp(i)){if(t.slice(a).search(i)){var c,f=s;for(i.global||(i=cf(i.source,js(qe.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var l=c.index;s=s.slice(0,l===rt?a:l)}}else if(t.indexOf(di(i),a)!=a){var p=s.lastIndexOf(i);p>-1&&(s=s.slice(0,p))}return s+r}function Tc(t){return t=js(t),t&&Me.test(t)?t.replace(Ee,br):t}function Mc(t,e,n){return t=js(t),e=n?rt:e,e===rt?N(t)?nt(t):m(t):t.match(e)||[]}function Oc(t){var e=null==t?0:t.length,n=xo();return t=e?h(t,function(t){if("function"!=typeof t[1])throw new lf(at);return[n(t[0]),t[1]]}):[],ri(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function jc(t){return Ln(Fn(t,lt))}function Cc(t){return function(){return t}}function Rc(t,e){return null==t||t!==t?e:t}function kc(t){return t}function Sc(t){return Fr("function"==typeof t?t:Fn(t,lt))}function Ac(t){return Ur(Fn(t,lt))}function zc(t,e){return qr(t,Fn(e,lt))}function Pc(t,e,n){var r=$s(e),i=ir(e,r);null!=n||is(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=ir(e,$s(e)));var o=!(is(n)&&"chain"in n&&!n.chain),u=es(t);return a(i,function(n){var r=e[n];t[n]=r,u&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Di(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,d([this.value()],arguments))})}),t}function Ic(){return or._===this&&(or._=wf),this}function Dc(){}function Hc(t){return t=ws(t),ri(function(e){return Zr(e,t)})}function Fc(t){return Do(t)?O(Jo(t)):Yr(t)}function Lc(t){return function(e){return null==t?rt:ur(t,e)}}function $c(){return[]}function Bc(){return!1}function Nc(){return{}}function Uc(){return""}function qc(){return!0}function Wc(t,e){if(t=ws(t),t<1||t>Pt)return[];var n=Ht,r=Zf(t,Ht);e=xo(e),t-=Ht;for(var i=S(r,e);++n<t;)e(n);return i}function Vc(t){return gp(t)?h(t,Jo):ys(t)?[t]:Di(Al(js(t)))}function Zc(t){var e=++_f;return js(t)+e}function Kc(t){return t&&t.length?Vn(t,kc,fr):rt}function Gc(t,e){return t&&t.length?Vn(t,xo(e,2),fr):rt}function Xc(t){return M(t,kc)}function Yc(t,e){return M(t,xo(e,2))}function Qc(t){return t&&t.length?Vn(t,kc,Br):rt}function Jc(t,e){return t&&t.length?Vn(t,xo(e,2),Br):rt}function tf(t){return t&&t.length?k(t,kc):0}function ef(t,e){return t&&t.length?k(t,xo(e,2)):0}e=null==e?or:wr.defaults(or.Object(),e,wr.pick(or,Zn));var nf=e.Array,rf=e.Date,of=e.Error,uf=e.Function,af=e.Math,sf=e.Object,cf=e.RegExp,ff=e.String,lf=e.TypeError,pf=nf.prototype,hf=uf.prototype,df=sf.prototype,vf=e["__core-js_shared__"],yf=hf.toString,gf=df.hasOwnProperty,_f=0,mf=function(){var t=/[^.]+$/.exec(vf&&vf.keys&&vf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),bf=df.toString,xf=yf.call(sf),wf=or._,Ef=cf("^"+yf.call(gf).replace(ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tf=sr?e.Buffer:rt,Mf=e.Symbol,Of=e.Uint8Array,jf=Tf?Tf.allocUnsafe:rt,Cf=W(sf.getPrototypeOf,sf),Rf=sf.create,kf=df.propertyIsEnumerable,Sf=pf.splice,Af=Mf?Mf.isConcatSpreadable:rt,zf=Mf?Mf.iterator:rt,Pf=Mf?Mf.toStringTag:rt,If=function(){try{var t=To(sf,"defineProperty");return t({},"",{}),t}catch(t){}}(),Df=e.clearTimeout!==or.clearTimeout&&e.clearTimeout,Hf=rf&&rf.now!==or.Date.now&&rf.now,Ff=e.setTimeout!==or.setTimeout&&e.setTimeout,Lf=af.ceil,$f=af.floor,Bf=sf.getOwnPropertySymbols,Nf=Tf?Tf.isBuffer:rt,Uf=e.isFinite,qf=pf.join,Wf=W(sf.keys,sf),Vf=af.max,Zf=af.min,Kf=rf.now,Gf=e.parseInt,Xf=af.random,Yf=pf.reverse,Qf=To(e,"DataView"),Jf=To(e,"Map"),tl=To(e,"Promise"),el=To(e,"Set"),nl=To(e,"WeakMap"),rl=To(sf,"create"),il=nl&&new nl,ol={},ul=tu(Qf),al=tu(Jf),sl=tu(tl),cl=tu(el),fl=tu(nl),ll=Mf?Mf.prototype:rt,pl=ll?ll.valueOf:rt,hl=ll?ll.toString:rt,dl=function(){function t(){}return function(e){if(!is(e))return{};if(Rf)return Rf(e);t.prototype=e;var n=new t;return t.prototype=rt,n}}();n.templateSettings={escape:je,evaluate:Ce,interpolate:Re,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=dl(r.prototype),i.prototype.constructor=i,_.prototype=dl(r.prototype),_.prototype.constructor=_,et.prototype.clear=Be,et.prototype.delete=Je,et.prototype.get=tn,et.prototype.has=en,et.prototype.set=nn,rn.prototype.clear=on,rn.prototype.delete=un,rn.prototype.get=an,rn.prototype.has=sn,rn.prototype.set=cn,fn.prototype.clear=ln,fn.prototype.delete=pn,fn.prototype.get=hn,fn.prototype.has=dn,fn.prototype.set=vn,yn.prototype.add=yn.prototype.push=gn,yn.prototype.has=_n,mn.prototype.clear=bn,mn.prototype.delete=xn,mn.prototype.get=wn,mn.prototype.has=En,mn.prototype.set=Tn;var vl=Ni(tr),yl=Ni(rr,!0),gl=Ui(),_l=Ui(!0),ml=il?function(t,e){return il.set(t,e),t}:kc,bl=If?function(t,e){return If(t,"toString",{configurable:!0,enumerable:!1,value:Cc(e),writable:!0})}:kc,xl=ri,wl=Df||function(t){return or.clearTimeout(t)},El=el&&1/K(new el([,-0]))[1]==zt?function(t){return new el(t)}:Dc,Tl=il?function(t){return il.get(t)}:Dc,Ml=Bf?function(t){return null==t?[]:(t=sf(t),f(Bf(t),function(e){return kf.call(t,e)}))}:$c,Ol=Bf?function(t){for(var e=[];t;)d(e,Ml(t)),t=Cf(t);return e}:$c,jl=cr;(Qf&&jl(new Qf(new ArrayBuffer(1)))!=fe||Jf&&jl(new Jf)!=Xt||tl&&jl(tl.resolve())!=te||el&&jl(new el)!=re||nl&&jl(new nl)!=ae)&&(jl=function(t){var e=cr(t),n=e==Jt?t.constructor:rt,r=n?tu(n):"";if(r)switch(r){case ul:return fe;case al:return Xt;case sl:return te;case cl:return re;case fl:return ae}return e});var Cl=vf?es:Bc,Rl=Yo(ml),kl=Ff||function(t,e){return or.setTimeout(t,e)},Sl=Yo(bl),Al=Uo(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ae,function(t,n,r,i){e.push(r?i.replace(Ne,"$1"):n||t)}),e}),zl=ri(function(t,e){return Za(t)?qn(t,Jn(e,1,Za,!0)):[]}),Pl=ri(function(t,e){var n=xu(e);return Za(n)&&(n=rt),Za(t)?qn(t,Jn(e,1,Za,!0),xo(n,2)):[]}),Il=ri(function(t,e){var n=xu(e);return Za(n)&&(n=rt),Za(t)?qn(t,Jn(e,1,Za,!0),rt,n):[]}),Dl=ri(function(t){var e=h(t,wi);return e.length&&e[0]===t[0]?Tr(e):[]}),Hl=ri(function(t){var e=xu(t),n=h(t,wi);return e===xu(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?Tr(n,xo(e,2)):[]}),Fl=ri(function(t){var e=xu(t),n=h(t,wi);return e="function"==typeof e?e:rt,e&&n.pop(),n.length&&n[0]===t[0]?Tr(n,rt,e):[]}),Ll=ri(Tu),$l=yo(function(t,e){var n=null==t?0:t.length,r=Dn(t,e);return Jr(t,h(e,function(t){return Po(t,n)?+t:t}).sort(Ai)),r}),Bl=ri(function(t){return vi(Jn(t,1,Za,!0))}),Nl=ri(function(t){var e=xu(t);return Za(e)&&(e=rt),vi(Jn(t,1,Za,!0),xo(e,2))}),Ul=ri(function(t){var e=xu(t);return e="function"==typeof e?e:rt,vi(Jn(t,1,Za,!0),rt,e)}),ql=ri(function(t,e){return Za(t)?qn(t,e):[]}),Wl=ri(function(t){return bi(f(t,Za))}),Vl=ri(function(t){var e=xu(t);return Za(e)&&(e=rt),bi(f(t,Za),xo(e,2))}),Zl=ri(function(t){var e=xu(t);return e="function"==typeof e?e:rt,bi(f(t,Za),rt,e)}),Kl=ri(Vu),Gl=ri(function(t){var e=t.length,n=e>1?t[e-1]:rt;return n="function"==typeof n?(t.pop(),n):rt,Zu(t,n)}),Xl=yo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Dn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof _&&Po(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Qu,args:[o],thisArg:rt}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(rt),t})):this.thru(o)}),Yl=$i(function(t,e,n){gf.call(t,n)?++t[n]:In(t,n,1)}),Ql=Gi(lu),Jl=Gi(pu),tp=$i(function(t,e,n){gf.call(t,n)?t[n].push(e):In(t,n,[e])}),ep=ri(function(t,e,n){var r=-1,i="function"==typeof e,u=Va(t)?nf(t.length):[];return vl(t,function(t){u[++r]=i?o(e,t,n):Or(t,e,n)}),u}),np=$i(function(t,e,n){In(t,n,e)}),rp=$i(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ip=ri(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Io(t,e[0],e[1])?e=[]:n>2&&Io(e[0],e[1],e[2])&&(e=[e[0]]),Kr(t,Jn(e,1),[])}),op=Hf||function(){return or.Date.now()},up=ri(function(t,e,n){var r=yt;if(n.length){var i=V(n,bo(up));r|=xt}return so(t,r,e,n,i)}),ap=ri(function(t,e,n){var r=yt|gt;if(n.length){var i=V(n,bo(ap));r|=xt}return so(e,r,t,n,i)}),sp=ri(function(t,e){return Un(t,1,e)}),cp=ri(function(t,e,n){return Un(t,Ts(e)||0,n)});Sa.Cache=fn;var fp=xl(function(t,e){e=1==e.length&&gp(e[0])?h(e[0],z(xo())):h(Jn(e,1),z(xo()));var n=e.length;return ri(function(r){for(var i=-1,u=Zf(r.length,n);++i<u;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),lp=ri(function(t,e){var n=V(e,bo(lp));return so(t,xt,rt,e,n)}),pp=ri(function(t,e){var n=V(e,bo(pp));return so(t,wt,rt,e,n)}),hp=yo(function(t,e){return so(t,Tt,rt,rt,rt,e)}),dp=io(fr),vp=io(function(t,e){return t>=e}),yp=jr(function(){return arguments}())?jr:function(t){return os(t)&&gf.call(t,"callee")&&!kf.call(t,"callee")},gp=nf.isArray,_p=lr?z(lr):Cr,mp=Nf||Bc,bp=pr?z(pr):Rr,xp=hr?z(hr):Ar,wp=dr?z(dr):Ir,Ep=vr?z(vr):Dr,Tp=yr?z(yr):Hr,Mp=io(Br),Op=io(function(t,e){return t<=e}),jp=Bi(function(t,e){if($o(e)||Va(e))return void Hi(e,$s(e),t);for(var n in e)gf.call(e,n)&&kn(t,n,e[n])}),Cp=Bi(function(t,e){Hi(e,Bs(e),t)}),Rp=Bi(function(t,e,n,r){Hi(e,Bs(e),t,r)}),kp=Bi(function(t,e,n,r){Hi(e,$s(e),t,r)}),Sp=yo(Dn),Ap=ri(function(t,e){t=sf(t);var n=-1,r=e.length,i=r>2?e[2]:rt;for(i&&Io(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],u=Bs(o),a=-1,s=u.length;++a<s;){var c=u[a],f=t[c];(f===rt||Wa(f,df[c])&&!gf.call(t,c))&&(t[c]=o[c])}return t}),zp=ri(function(t){return t.push(rt,fo),o(Fp,rt,t)}),Pp=Qi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=bf.call(e)),t[e]=n},Cc(kc)),Ip=Qi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=bf.call(e)),gf.call(t,e)?t[e].push(n):t[e]=[n]},xo),Dp=ri(Or),Hp=Bi(function(t,e,n){Wr(t,e,n)}),Fp=Bi(function(t,e,n,r){Wr(t,e,n,r)}),Lp=yo(function(t,e){var n={};if(null==t)return n;var r=!1;e=h(e,function(e){return e=Ti(e,t),r||(r=e.length>1),e}),Hi(t,_o(t),n),r&&(n=Fn(n,lt|pt|ht,lo));for(var i=e.length;i--;)yi(n,e[i]);return n}),$p=yo(function(t,e){return null==t?{}:Gr(t,e)}),Bp=ao($s),Np=ao(Bs),Up=Vi(function(t,e,n){return e=e.toLowerCase(),t+(n?ic(e):e)}),qp=Vi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Wp=Vi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Vp=Wi("toLowerCase"),Zp=Vi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Kp=Vi(function(t,e,n){return t+(n?" ":"")+Xp(e)}),Gp=Vi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Xp=Wi("toUpperCase"),Yp=ri(function(t,e){try{return o(t,rt,e)}catch(t){return Ja(t)?t:new of(t)}}),Qp=yo(function(t,e){return a(e,function(e){e=Jo(e),In(t,e,up(t[e],t))}),t}),Jp=Xi(),th=Xi(!0),eh=ri(function(t,e){return function(n){return Or(n,t,e)}}),nh=ri(function(t,e){return function(n){return Or(t,n,e)}}),rh=to(h),ih=to(c),oh=to(g),uh=ro(),ah=ro(!0),sh=Ji(function(t,e){return t+e},0),ch=uo("ceil"),fh=Ji(function(t,e){return t/e},1),lh=uo("floor"),ph=Ji(function(t,e){return t*e},1),hh=uo("round"),dh=Ji(function(t,e){return t-e},0);return n.after=Ta,n.ary=Ma,n.assign=jp,n.assignIn=Cp,n.assignInWith=Rp,n.assignWith=kp,n.at=Sp,n.before=Oa,n.bind=up,n.bindAll=Qp,n.bindKey=ap,n.castArray=La,n.chain=Xu,n.chunk=ru,n.compact=iu,n.concat=ou,n.cond=Oc,n.conforms=jc,n.constant=Cc,n.countBy=Yl,n.create=Cs,n.curry=ja,n.curryRight=Ca,n.debounce=Ra,n.defaults=Ap,n.defaultsDeep=zp,n.defer=sp,n.delay=cp,n.difference=zl,n.differenceBy=Pl,n.differenceWith=Il,n.drop=uu,n.dropRight=au,n.dropRightWhile=su,n.dropWhile=cu,n.fill=fu,n.filter=aa,n.flatMap=sa,n.flatMapDeep=ca,n.flatMapDepth=fa,n.flatten=hu,n.flattenDeep=du,n.flattenDepth=vu,n.flip=ka,n.flow=Jp,n.flowRight=th,n.fromPairs=yu,n.functions=Is,n.functionsIn=Ds,n.groupBy=tp,n.initial=mu,n.intersection=Dl,n.intersectionBy=Hl,n.intersectionWith=Fl,n.invert=Pp,n.invertBy=Ip,n.invokeMap=ep,n.iteratee=Sc,n.keyBy=np,n.keys=$s,n.keysIn=Bs,n.map=da,n.mapKeys=Ns,n.mapValues=Us,n.matches=Ac,n.matchesProperty=zc,n.memoize=Sa,n.merge=Hp,n.mergeWith=Fp,n.method=eh,n.methodOf=nh,n.mixin=Pc,n.negate=Aa,n.nthArg=Hc,n.omit=Lp,n.omitBy=qs,n.once=za,n.orderBy=va,n.over=rh,n.overArgs=fp,n.overEvery=ih,n.overSome=oh,n.partial=lp,n.partialRight=pp,n.partition=rp,n.pick=$p,n.pickBy=Ws,n.property=Fc,n.propertyOf=Lc,n.pull=Ll,n.pullAll=Tu,n.pullAllBy=Mu,n.pullAllWith=Ou,n.pullAt=$l,n.range=uh,n.rangeRight=ah,n.rearg=hp,n.reject=_a,n.remove=ju,n.rest=Pa,n.reverse=Cu,n.sampleSize=ba,n.set=Zs,n.setWith=Ks,n.shuffle=xa,n.slice=Ru,n.sortBy=ip,n.sortedUniq=Du,n.sortedUniqBy=Hu,n.split=vc,n.spread=Ia,n.tail=Fu,n.take=Lu,n.takeRight=$u,n.takeRightWhile=Bu,n.takeWhile=Nu,n.tap=Yu,n.throttle=Da,n.thru=Qu,n.toArray=bs,n.toPairs=Bp,n.toPairsIn=Np,n.toPath=Vc,n.toPlainObject=Ms,n.transform=Gs,n.unary=Ha,n.union=Bl,n.unionBy=Nl,n.unionWith=Ul,n.uniq=Uu,n.uniqBy=qu,n.uniqWith=Wu,n.unset=Xs,n.unzip=Vu,n.unzipWith=Zu,n.update=Ys,n.updateWith=Qs,n.values=Js,n.valuesIn=tc,n.without=ql,n.words=Mc,n.wrap=Fa,n.xor=Wl,n.xorBy=Vl,n.xorWith=Zl,n.zip=Kl,n.zipObject=Ku,n.zipObjectDeep=Gu,n.zipWith=Gl,n.entries=Bp,n.entriesIn=Np,n.extend=Cp,n.extendWith=Rp,Pc(n,n),n.add=sh,n.attempt=Yp,n.camelCase=Up,n.capitalize=ic,n.ceil=ch,n.clamp=ec,n.clone=$a,n.cloneDeep=Na,n.cloneDeepWith=Ua,n.cloneWith=Ba,n.conformsTo=qa,n.deburr=oc,n.defaultTo=Rc,n.divide=fh,n.endsWith=uc,n.eq=Wa,n.escape=ac,n.escapeRegExp=sc,n.every=ua,n.find=Ql,n.findIndex=lu,n.findKey=Rs,n.findLast=Jl,n.findLastIndex=pu,n.findLastKey=ks,n.floor=lh,n.forEach=la,n.forEachRight=pa,n.forIn=Ss,n.forInRight=As,n.forOwn=zs,n.forOwnRight=Ps,n.get=Hs,n.gt=dp,n.gte=vp,n.has=Fs,n.hasIn=Ls,n.head=gu,n.identity=kc,n.includes=ha,n.indexOf=_u,n.inRange=nc,n.invoke=Dp,n.isArguments=yp,n.isArray=gp,n.isArrayBuffer=_p,n.isArrayLike=Va,n.isArrayLikeObject=Za,n.isBoolean=Ka,n.isBuffer=mp,n.isDate=bp,n.isElement=Ga,n.isEmpty=Xa,n.isEqual=Ya,n.isEqualWith=Qa,n.isError=Ja,n.isFinite=ts,n.isFunction=es,n.isInteger=ns,n.isLength=rs,n.isMap=xp,n.isMatch=us,n.isMatchWith=as,n.isNaN=ss,n.isNative=cs,n.isNil=ls,n.isNull=fs,n.isNumber=ps,n.isObject=is,n.isObjectLike=os,n.isPlainObject=hs,n.isRegExp=wp,n.isSafeInteger=ds,n.isSet=Ep,n.isString=vs,n.isSymbol=ys,n.isTypedArray=Tp,n.isUndefined=gs,n.isWeakMap=_s,n.isWeakSet=ms,n.join=bu,n.kebabCase=qp,n.last=xu,n.lastIndexOf=wu,n.lowerCase=Wp,n.lowerFirst=Vp,n.lt=Mp,n.lte=Op,n.max=Kc,n.maxBy=Gc,n.mean=Xc,n.meanBy=Yc,n.min=Qc,n.minBy=Jc,n.stubArray=$c,n.stubFalse=Bc,n.stubObject=Nc,n.stubString=Uc,n.stubTrue=qc,n.multiply=ph,n.nth=Eu,n.noConflict=Ic,n.noop=Dc,n.now=op,n.pad=cc,n.padEnd=fc,n.padStart=lc,n.parseInt=pc,n.random=rc,n.reduce=ya,n.reduceRight=ga,n.repeat=hc,n.replace=dc,n.result=Vs,n.round=hh,n.runInContext=t,n.sample=ma,n.size=wa,n.snakeCase=Zp,n.some=Ea,n.sortedIndex=ku,n.sortedIndexBy=Su,n.sortedIndexOf=Au,n.sortedLastIndex=zu,n.sortedLastIndexBy=Pu,n.sortedLastIndexOf=Iu,n.startCase=Kp,n.startsWith=yc,n.subtract=dh,n.sum=tf,n.sumBy=ef,n.template=gc,n.times=Wc,n.toFinite=xs,n.toInteger=ws,n.toLength=Es,n.toLower=_c,n.toNumber=Ts,n.toSafeInteger=Os,n.toString=js,n.toUpper=mc,n.trim=bc,n.trimEnd=xc,n.trimStart=wc,n.truncate=Ec,n.unescape=Tc,n.uniqueId=Zc,n.upperCase=Gp,n.upperFirst=Xp,n.each=la,n.eachRight=pa,n.first=gu,Pc(n,function(){var t={};return tr(n,function(e,r){gf.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION=it,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),a(["drop","take"],function(t,e){_.prototype[t]=function(n){n=n===rt?1:Vf(ws(n),0);var r=this.__filtered__&&!e?new _(this):this.clone();return r.__filtered__?r.__takeCount__=Zf(n,r.__takeCount__):r.__views__.push({size:Zf(n,Ht),type:t+(r.__dir__<0?"Right":"")}),r},_.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==kt||n==At;_.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:xo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),a(["head","last"],function(t,e){var n="take"+(e?"Right":"");_.prototype[t]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_.prototype[t]=function(){return this.__filtered__?new _(this):this[n](1)}}),_.prototype.compact=function(){return this.filter(kc)},_.prototype.find=function(t){return this.filter(t).head()},_.prototype.findLast=function(t){return this.reverse().find(t)},_.prototype.invokeMap=ri(function(t,e){return"function"==typeof t?new _(this):this.map(function(n){return Or(n,t,e)})}),_.prototype.reject=function(t){return this.filter(Aa(xo(t)))},_.prototype.slice=function(t,e){t=ws(t);var n=this;return n.__filtered__&&(t>0||e<0)?new _(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==rt&&(e=ws(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},_.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_.prototype.toArray=function(){return this.take(Ht)},tr(_.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),u=n[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);u&&(n.prototype[e]=function(){var e=this.__wrapped__,s=o?[1]:arguments,c=e instanceof _,f=s[0],l=c||gp(e),p=function(t){var e=u.apply(n,d([t],s));return o&&h?e[0]:e};l&&r&&"function"==typeof f&&1!=f.length&&(c=l=!1);var h=this.__chain__,v=!!this.__actions__.length,y=a&&!h,g=c&&!v;if(!a&&l){e=g?e:new _(this);var m=t.apply(e,s);return m.__actions__.push({func:Qu,args:[p],thisArg:rt}),new i(m,h)}return y&&g?t.apply(this,s):(m=this.thru(p),y?o?m.value()[0]:m.value():m)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var e=pf[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(gp(n)?n:[],t)}return this[r](function(n){return e.apply(gp(n)?n:[],t)})}}),tr(_.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"",o=ol[i]||(ol[i]=[]);o.push({name:e,func:r})}}),ol[Yi(rt,gt).name]=[{name:"wrapper",func:rt}],_.prototype.clone=j,_.prototype.reverse=X,_.prototype.value=tt,n.prototype.at=Xl,n.prototype.chain=Ju,n.prototype.commit=ta,n.prototype.next=ea,n.prototype.plant=ra,n.prototype.reverse=ia,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=oa,n.prototype.first=n.prototype.head,zf&&(n.prototype[zf]=na),n},wr=xr();or._=wr,r=function(){return wr}.call(e,n,e,i),!(r!==rt&&(i.exports=r))}).call(this)}).call(e,function(){return this}(),n(16)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(18),c=r(s),f=n(19),l=r(f),p=n(20),h=function(t){function e(t,r){i(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return u.graph=new c.default(t),u.projector4d=r.projector4d||new l.default,u.uniforms={matrix4d:{type:"m4",value:u.projector4d.matrix},distance4d:{type:"v2",value:u.projector4d.distance},surfaceColor:{type:"c",value:new THREE.Color(16720537)},opacity:{type:"f",value:.8}},u.geometry=new THREE.BufferGeometry,u.material=new THREE.ShaderMaterial({uniforms:u.uniforms,side:THREE.DoubleSide,transparent:!0,wireframe:!0,blendEquation:THREE.MaxEquation,vertexShader:n(29),fragmentShader:n(30)}),u.mesh=new THREE.Mesh(u.geometry,u.material),u.generateVertexColor(),u.subdivide(r.subdivision||5),u.add(u.mesh),u}return u(e,t),a(e,[{key:"mapRange",value:function(t,e,n,r,i){return r+(i-r)*(t-e)/(n-e)}},{key:"generateVertexColor",value:function(){this.vertexColors=this.graph.vertices.map(function(){var t=(0,p.lerp)(0,1,Math.random()),e=(0,p.lerp)(0,1,Math.random()),n=(0,p.lerp)(0,1,Math.random());return t=Math.pow(t,.75),e=Math.pow(e,.9),n=Math.pow(n,.85),t=(0,p.lerp)(.25,1,t),e=(0,p.lerp)(.2,.7,e),n=(0,p.lerp)(.5,.8,n),new THREE.Vector3(t,e,n)})}},{key:"subdivide",value:function(t){var e=this;this.subdivision=t;var n=[],r=[],i=[],o=void 0,u=void 0,a=null,s=new THREE.Vector4,c=new THREE.Vector4,f=void 0,l=void 0,p=null,h=new THREE.Vector3,d=new THREE.Vector3;this.graph.faces.forEach(function(v){var y=n.length;o=e.graph.vertices[v[0]],u=e.graph.vertices[v[1]],a=e.graph.vertices[v[2]],c.subVectors(u,o),c.divideScalar(t),s.subVectors(a,o),s.divideScalar(t),f=e.vertexColors[v[0]],l=e.vertexColors[v[1]],p=e.vertexColors[v[2]],d.subVectors(l,f),d.divideScalar(t),h.subVectors(p,f),h.divideScalar(t);for(var g=0;g<=t;g++)for(var _=g;_>=0;_--){var m=g-_,b=o.clone();b.add(c.clone().multiplyScalar(_)),b.add(s.clone().multiplyScalar(m)),n.push(b);var x=f.clone();if(x.add(d.clone().multiplyScalar(_)),x.add(h.clone().multiplyScalar(m)),r.push(x),g<t){var w=y+g*(g+1)/2+m,E=w+1,T=y+(g+1)*(g+2)/2+m,M=T+1;i.push(new THREE.Face3(w,T,M)),_>0&&i.push(new THREE.Face3(M,E,w))}}});var v=[],y=[];n.forEach(function(t){v.push(t.x,t.y,t.z),y.push(t.w)});var g=[];r.forEach(function(t){g.push(t.x,t.y,t.z)});var _=[];i.forEach(function(t){_.push(t.a,t.b,t.c)});var m=new Float32Array(v),b=new Float32Array(y),x=new Float32Array(g),w=new Uint32Array(_);this.geometry.addAttribute("position",new THREE.BufferAttribute(m,3)),this.geometry.addAttribute("positionW",new THREE.BufferAttribute(b,1)),this.geometry.addAttribute("color",new THREE.BufferAttribute(x,3)),this.geometry.setIndex(new THREE.BufferAttribute(w,3))}}]),e}(THREE.Object3D);e.default=h},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this.vertices=e.vertices.map(function(t){return new THREE.Vector4(t[0],t[1],t[2],t[3])}),this.faces=[],e.faces.forEach(this.subdivideNgon.bind(this))}return r(t,[{key:"subdivideNgon",value:function(t){if(!(t.length<3)){if(3==t.length)return void this.faces.push(t);for(var e=0,n=t.length;e<=n-2;)this.faces.push([t[e],t[e+1],t[(e+2)%n]]),e+=2;var r=[];t.forEach(function(t,e){e%2==0&&r.push(t)}),this.subdivideNgon(r)}}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(20),a=n(15),s=r(a),c=n(23),f=r(c),l=5,p=function(){function t(){var e=this;i(this,t),this.translate=new THREE.Vector4,this.quaternion=new THREE.Quaternion,this.matrix=new THREE.Matrix4,this.distance=new THREE.Vector2(l,0),app.ui.distance.on("change",function(t){e.distance.x=(0,u.lerp)(1,l,Math.pow(t,3))}),this.rotateAxis=new THREE.Vector3(1,0,0),this.rotateBase=new THREE.Quaternion,this.rotate=new THREE.Quaternion,this.rotateMultiplied=new THREE.Quaternion,this.rotateZero=new THREE.Quaternion,this.rotateSpeedLerp=.1,this.changeRotate(1),app.ui.rotation.on("change",this.changeRotate.bind(this)),app.ui.rotateSpeed.on("change",function(t){e.rotateSpeed=(0,u.lerp)(.04,1,t)})}return o(t,[{key:"changeRotate",value:function(){var t=new THREE.Vector3(s.default.random(-1,1,!0),s.default.random(-1,1,!0),s.default.random(-1,1,!0)),e=(0,
u.lerp)(.7,1.3,Math.random())*Math.PI;this.rotateAxis.applyAxisAngle(t,e),this.rotateAxis.normalize(),this.rotate.setFromAxisAngle(this.rotateAxis,(0,f.default)(12)),this.rotateBase.setFromAxisAngle(this.rotateAxis,(0,f.default)(2))}},{key:"update",value:function(){this.updateMatrix(),this.rotateMultiplied.copy(this.rotateZero),this.rotateMultiplied.slerp(this.rotate,this.rotateSpeed),this.quaternion.multiply(this.rotateMultiplied),this.rotate.slerp(this.rotateBase,this.rotateSpeedLerp)}},{key:"updateMatrix",value:function(){var t=new THREE.Euler;t.setFromQuaternion(this.quaternion,"XYZ");var e=void 0,n=void 0;e=Math.cos(t.x),n=Math.sin(t.x);var r=new THREE.Matrix4;r.set(e,0,0,-n,0,1,0,0,0,0,1,0,n,0,0,e),e=Math.cos(t.y),n=Math.sin(t.y);var i=new THREE.Matrix4;i.set(1,0,0,0,0,e,0,-n,0,0,1,0,0,n,0,e),e=Math.cos(t.z),n=Math.sin(t.z);var o=new THREE.Matrix4;o.set(1,0,0,0,0,1,0,0,0,0,e,-n,0,0,n,e),this.matrix.multiplyMatrices(i,r),this.matrix.multiplyMatrices(o,this.matrix)}}]),t}();e.default=p},function(t,e,n){t.exports.lerp=n(21),t.exports.smoothstep=n(22)},function(t,e){function n(t,e,n){return t*(1-n)+e*n}t.exports=n},function(t,e){t.exports=function(t,e,n){var r=Math.max(0,Math.min(1,(n-t)/(e-t)));return r*r*(3-2*r)}},function(t,e,n){var r=n(24);t.exports=function(t){return r("number"==typeof t,"Degrees should be a number"),t*(Math.PI/180)}},function(t,e,n){(function(e){"use strict";/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function u(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function a(t){if(b.isFunction(t)){if(E)return t.name;var e=t.toString(),n=e.match(M);return n&&n[1]}}function s(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function c(t){if(E||!b.isFunction(t))return b.inspect(t);var e=a(t),n=e?": "+e:"";return"[Function"+n+"]"}function f(t){return s(c(t.actual),128)+" "+t.operator+" "+s(c(t.expected),128)}function l(t,e,n,r,i){throw new T.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function p(t,e){t||l(t,!0,e,"==",T.ok)}function h(t,e,n,a){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(b.isDate(t)&&b.isDate(e))return t.getTime()===e.getTime();if(b.isRegExp(t)&&b.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(u(t)&&u(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;a=a||{actual:[],expected:[]};var s=a.actual.indexOf(t);return s!==-1&&s===a.expected.indexOf(e)||(a.actual.push(t),a.expected.push(e),v(t,e,n,a))}return n?t===e:t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function v(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(b.isPrimitive(t)||b.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=d(t),o=d(e);if(i&&!o||!i&&o)return!1;if(i)return t=w.call(t),e=w.call(e),h(t,e,n);var u,a,s=O(t),c=O(e);if(s.length!==c.length)return!1;for(s.sort(),c.sort(),a=s.length-1;a>=0;a--)if(s[a]!==c[a])return!1;for(a=s.length-1;a>=0;a--)if(u=s[a],!h(t[u],e[u],n,r))return!1;return!0}function y(t,e,n){h(t,e,!0)&&l(t,e,n,"notDeepStrictEqual",y)}function g(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&e.call({},t)===!0}function _(t){var e;try{t()}catch(t){e=t}return e}function m(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=_(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&l(i,n,"Missing expected exception"+r);var o="string"==typeof r,u=!t&&b.isError(i),a=!t&&i&&!n;if((u&&o&&g(i,n)||a)&&l(i,n,"Got unwanted exception"+r),t&&i&&n&&!g(i,n)||!t&&i)throw i}var b=n(25),x=Object.prototype.hasOwnProperty,w=Array.prototype.slice,E=function(){return"foo"===function(){}.name}(),T=t.exports=p,M=/\s*function\s+([^\(\s]*)\s*/;T.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var e=t.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=a(e),o=r.indexOf("\n"+i);if(o>=0){var u=r.indexOf("\n",o+1);r=r.substring(u+1)}this.stack=r}}},b.inherits(T.AssertionError,Error),T.fail=l,T.ok=p,T.equal=function(t,e,n){t!=e&&l(t,e,n,"==",T.equal)},T.notEqual=function(t,e,n){t==e&&l(t,e,n,"!=",T.notEqual)},T.deepEqual=function(t,e,n){h(t,e,!1)||l(t,e,n,"deepEqual",T.deepEqual)},T.deepStrictEqual=function(t,e,n){h(t,e,!0)||l(t,e,n,"deepStrictEqual",T.deepStrictEqual)},T.notDeepEqual=function(t,e,n){h(t,e,!1)&&l(t,e,n,"notDeepEqual",T.notDeepEqual)},T.notDeepStrictEqual=y,T.strictEqual=function(t,e,n){t!==e&&l(t,e,n,"===",T.strictEqual)},T.notStrictEqual=function(t,e,n){t===e&&l(t,e,n,"!==",T.notStrictEqual)},T.throws=function(t,e,n){m(!0,t,e,n)},T.doesNotThrow=function(t,e,n){m(!1,t,e,n)},T.ifError=function(t){if(t)throw t};var O=Object.keys||function(t){var e=[];for(var n in t)x.call(t,n)&&e.push(n);return e}}).call(e,function(){return this}())},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function u(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function s(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=s(t,i,r)),i}var o=c(t,n);if(o)return o;var u=Object.keys(n),v=a(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),M(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(O(n)){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return t.stylize(Date.prototype.toString.call(n),"date");if(M(n))return f(n)}var g="",_=!1,b=["{","}"];if(d(n)&&(_=!0,b=["[","]"]),O(n)){var x=n.name?": "+n.name:"";g=" [Function"+x+"]"}if(w(n)&&(g=" "+RegExp.prototype.toString.call(n)),T(n)&&(g=" "+Date.prototype.toUTCString.call(n)),M(n)&&(g=" "+f(n)),0===u.length&&(!_||0==n.length))return b[0]+g+b[1];if(r<0)return w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var E;return E=_?l(t,n,r,v,u):u.map(function(e){return p(t,n,r,v,e,_)}),t.seen.pop(),h(E,g,b)}function c(t,e){if(x(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return _(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var o=[],u=0,a=e.length;u<a;++u)S(e,String(u))?o.push(p(t,e,n,r,String(u),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))}),o}function p(t,e,n,r,i,o){var u,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),S(r,i)||(u="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(n)?s(t,c.value,null):s(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),x(u)){if(o&&i.match(/^\d+$/))return a;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+a}function h(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return null==t}function _(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===C(t)}function E(t){return"object"==typeof t&&null!==t}function T(t){return E(t)&&"[object Date]"===C(t)}function M(t){return E(t)&&("[object Error]"===C(t)||t instanceof Error)}function O(t){return"function"==typeof t}function j(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function R(t){return t<10?"0"+t.toString(10):t.toString(10)}function k(){var t=new Date,e=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var A=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,u=String(t).replace(A,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])u+=y(a)||!E(a)?" "+a:" "+i(a);return u},e.deprecate=function(n,i){function o(){if(!u){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),u=!0}return n.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var u=!1;return o};var z,P={};e.debuglog=function(t){if(x(z)&&(z=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(z)){var n=r.pid;P[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else P[t]=function(){};return P[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=y,e.isNullOrUndefined=g,e.isNumber=_,e.isString=m,e.isSymbol=b,e.isUndefined=x,e.isRegExp=w,e.isObject=E,e.isDate=T,e.isError=M,e.isFunction=O,e.isPrimitive=j,e.isBuffer=n(27);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(28),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(26))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function u(){v&&h&&(v=!1,h.length?d=h.concat(d):y=-1,d.length&&a())}function a(){if(!v){var t=i(u);v=!0;for(var e=d.length;e;){for(h=d,d=[];++y<e;)h&&h[y].run();y=-1,e=d.length}h=null,v=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var h,d=[],v=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new s(t,e)),1!==d.length||v||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports="#define GLSLIFY 1\nuniform mat4 matrix4d;\nuniform vec2 distance4d;\n\nattribute float positionW;\nattribute vec3 color;\n\nvarying vec3 vColor;\n\nvoid main() {\n\t// color\n\tvColor = color;\n\n\t// transform in 4d\n\tvec4 pos4d = matrix4d * vec4(position, positionW);\n\n\t// stereograph\n\tpos4d = normalize(pos4d);\n\n\t// perspective projection from [0, 0, 0, distance4d] to XYZ hyperplane\n\tfloat d = distance4d.x / (distance4d.x - pos4d.w);\n\tvec3 pos = pos4d.xyz * d;\n\n\t// 3d transform\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform vec3 surfaceColor;\nuniform float opacity;\n\nvarying vec3 vColor;\n\nvoid main() {\n\tgl_FragColor = vec4(vColor, opacity);\n}"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(15),c=r(s),f=n(20),l=n(23),p=r(l),h=n(12),d=r(h),v=.5,y=3,g=40,_=90,m=5,b=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.rotate=new THREE.Quaternion,t.rotateMultiplied=new THREE.Quaternion,t.rotateZero=new THREE.Quaternion,t.rotateSpeed=d.default.INIT_ROTATE_SPEED,app.ui.rotateSpeed.on("change",function(e){t.rotateSpeed=(0,f.lerp)(.1,1,e)}),t.changeRotate(),t.camera=new THREE.PerspectiveCamera(60,d.default.ASPECT,.1,1e3),t.camera.position.set(0,0,y),t.isMagnify=!1,t.dolly=new THREE.Object3D,t.dolly.position.set(0,0,m),t.dolly.add(t.camera),t.add(t.dolly),app.ui.distance.on("change",function(e){t.dolly.position.z=(0,f.lerp)(0,m,e)}),app.ui.magnify.on("change",function(e){t.isMagnify=e}),t}return u(e,t),a(e,[{key:"changeRotate",value:function(){var t=new THREE.Vector3(c.default.random(-1,1,!0),c.default.random(-1,1,!0),c.default.random(-1,1,!0));this.rotate.setFromAxisAngle(t,c.default.random(.5,1,!0)*(0,p.default)(2))}},{key:"update",value:function(){this.rotateMultiplied.copy(this.rotateZero),this.rotateMultiplied.slerp(this.rotate,this.rotateSpeed),this.quaternion.multiply(this.rotateMultiplied);var t=this.isMagnify?.4:.03,e=this.isMagnify?v:y;this.camera.position.z=(0,f.lerp)(this.camera.position.z,e,t);var n=this.isMagnify?_:g;this.camera.fov=(0,f.lerp)(this.camera.fov,n,t),this.camera.updateProjectionMatrix()}}]),e}(THREE.Object3D);e.default=b},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(33),s=new a.Noise(Math.random()),c=function(t){function e(t){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));o.projector4d=t.projector4d,o.uniforms={matrix4d:{type:"m4",value:o.projector4d.matrix},distance4d:{type:"v2",value:o.projector4d.distance}};for(var u=window.assets.dandruff_small_obj.children[0].geometry,a=new Float32Array(u.attributes.position.count),c=.04,f=.5,l=4,p=u.attributes.position.array,h=0;h<a.length;h++){var d=p[3*h],v=p[3*h+1],y=p[3*h+2],g=s.perlin3(d*c,v*c,y*c);g*=70;var _=d+s.perlin3(d*f,v*f,y*f)*l,m=v+s.perlin3(d*f,v*f,y*f)*l,b=y+s.perlin3(d*f,v*f,y*f)*l,x=g+s.perlin3(y*f,v*f,(g+1e3)*f)*l;p[3*h]=_,p[3*h+1]=m,p[3*h+2]=b,a[h]=x}for(var w=u.attributes.uv,E=0;E<w.count;E++)w.array[2*E+1]*=-1;w.needsUpdate=!0,u.addAttribute("positionW",new THREE.BufferAttribute(a,1));var T=new THREE.ShaderMaterial({uniforms:{matrix4d:{type:"m4",value:o.projector4d.matrix},distance4d:{type:"v2",value:o.projector4d.distance},time:{type:"f",value:0},wiggleAmp:{type:"f",value:.7},wiggleIntensity:{type:"f",value:0},texture:{type:"t",value:null}},side:THREE.DoubleSide,blendEquation:THREE.MaxEquation,vertexShader:n(34),fragmentShader:n(35)});o.small=new THREE.Mesh(u,T),o.small.scale.set(3,3,3),o.add(o.small);for(var M=window.assets.dandruff_large_obj.children[0].geometry,O=new THREE.ShaderMaterial({uniforms:{time:{type:"f",value:0},wiggleAmp:{type:"f",value:.7},wiggleIntensity:{type:"f",value:0},texture:{type:"t",value:null}},side:THREE.DoubleSide,blendEquation:THREE.MaxEquation,vertexShader:n(36),fragmentShader:n(35)}),j=M.attributes.uv,C=0;C<j.count;C++)j.array[2*C+1]*=-1;return j.needsUpdate=!0,o.large=new THREE.Mesh(M,O),o.large.scale.set(.5,.5,.5),o.add(o.large),app.ui.polygonCount.on("change",function(t){o.small.geometry.drawRange.count=Math.floor(t*o.small.geometry.attributes.position.count),o.large.geometry.drawRange.count=Math.floor(t*o.large.geometry.attributes.position.count)}),o.wiggleEnabled=!1,app.ui.wiggle.on("change",function(t){o.wiggleEnabled=t}),o.smallTexture=window.assets.dandruff_small_tex,app.ui.white.on("change",function(t){var e=t?o.smallTexture:null;o.small.material.uniforms.texture.value=e,o.large.material.uniforms.texture.value=e}),o}return o(e,t),u(e,[{key:"update",value:function(t){this.small.material.uniforms.wiggleIntensity.value=this.wiggleEnabled?1:0,this.small.material.uniforms.time.value+=t,this.large.material.uniforms.wiggleIntensity.value=this.wiggleEnabled?1:0,this.large.material.uniforms.time.value+=t}}]),e}(THREE.Object3D);e.default=c},function(t,e,n){!function(t){function e(t){function e(t,e,n){this.x=t,this.y=e,this.z=n}e.prototype.dot2=function(t,e){return this.x*t+this.y*e},e.prototype.dot3=function(t,e,n){return this.x*t+this.y*e+this.z*n},this.grad3=[new e(1,1,0),new e(-1,1,0),new e(1,-1,0),new e(-1,-1,0),new e(1,0,1),new e(-1,0,1),new e(1,0,-1),new e(-1,0,-1),new e(0,1,1),new e(0,-1,1),new e(0,1,-1),new e(0,-1,-1)],this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=new Array(512),this.gradP=new Array(512),this.seed(t||0)}function n(t){return t*t*t*(t*(6*t-15)+10)}function r(t,e,n){return(1-n)*t+n*e}e.prototype.seed=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var e=this.p,n=0;n<256;n++){var r;r=1&n?e[n]^255&t:e[n]^t>>8&255;var i=this.perm,o=this.gradP;i[n]=i[n+256]=r,o[n]=o[n+256]=this.grad3[r%12]}};var i=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,u=1/3,a=1/6;e.prototype.simplex2=function(t,e){var n,r,u,a,s,c=(t+e)*i,f=Math.floor(t+c),l=Math.floor(e+c),p=(f+l)*o,h=t-f+p,d=e-l+p;h>d?(a=1,s=0):(a=0,s=1);var v=h-a+o,y=d-s+o,g=h-1+2*o,_=d-1+2*o;f&=255,l&=255;var m=this.perm,b=this.gradP,x=b[f+m[l]],w=b[f+a+m[l+s]],E=b[f+1+m[l+1]],T=.5-h*h-d*d;T<0?n=0:(T*=T,n=T*T*x.dot2(h,d));var M=.5-v*v-y*y;M<0?r=0:(M*=M,r=M*M*w.dot2(v,y));var O=.5-g*g-_*_;return O<0?u=0:(O*=O,u=O*O*E.dot2(g,_)),70*(n+r+u)},e.prototype.simplex3=function(t,e,n){var r,i,o,s,c,f,l,p,h,d,v=(t+e+n)*u,y=Math.floor(t+v),g=Math.floor(e+v),_=Math.floor(n+v),m=(y+g+_)*a,b=t-y+m,x=e-g+m,w=n-_+m;b>=x?x>=w?(c=1,f=0,l=0,p=1,h=1,d=0):b>=w?(c=1,f=0,l=0,p=1,h=0,d=1):(c=0,f=0,l=1,p=1,h=0,d=1):x<w?(c=0,f=0,l=1,p=0,h=1,d=1):b<w?(c=0,f=1,l=0,p=0,h=1,d=1):(c=0,f=1,l=0,p=1,h=1,d=0);var E=b-c+a,T=x-f+a,M=w-l+a,O=b-p+2*a,j=x-h+2*a,C=w-d+2*a,R=b-1+3*a,k=x-1+3*a,S=w-1+3*a;y&=255,g&=255,_&=255;var A=this.perm,z=this.gradP,P=z[y+A[g+A[_]]],I=z[y+c+A[g+f+A[_+l]]],D=z[y+p+A[g+h+A[_+d]]],H=z[y+1+A[g+1+A[_+1]]],F=.5-b*b-x*x-w*w;F<0?r=0:(F*=F,r=F*F*P.dot3(b,x,w));var L=.5-E*E-T*T-M*M;L<0?i=0:(L*=L,i=L*L*I.dot3(E,T,M));var $=.5-O*O-j*j-C*C;$<0?o=0:($*=$,o=$*$*D.dot3(O,j,C));var B=.5-R*R-k*k-S*S;return B<0?s=0:(B*=B,s=B*B*H.dot3(R,k,S)),32*(r+i+o+s)},e.prototype.perlin2=function(t,e){var i=Math.floor(t),o=Math.floor(e);t-=i,e-=o,i&=255,o&=255;var u=this.perm,a=this.gradP,s=a[i+u[o]].dot2(t,e),c=a[i+u[o+1]].dot2(t,e-1),f=a[i+1+u[o]].dot2(t-1,e),l=a[i+1+u[o+1]].dot2(t-1,e-1),p=n(t);return r(r(s,f,p),r(c,l,p),n(e))},e.prototype.perlin3=function(t,e,i){var o=Math.floor(t),u=Math.floor(e),a=Math.floor(i);t-=o,e-=u,i-=a,o&=255,u&=255,a&=255;var s=this.perm,c=this.gradP,f=c[o+s[u+s[a]]].dot3(t,e,i),l=c[o+s[u+s[a+1]]].dot3(t,e,i-1),p=c[o+s[u+1+s[a]]].dot3(t,e-1,i),h=c[o+s[u+1+s[a+1]]].dot3(t,e-1,i-1),d=c[o+1+s[u+s[a]]].dot3(t-1,e,i),v=c[o+1+s[u+s[a+1]]].dot3(t-1,e,i-1),y=c[o+1+s[u+1+s[a]]].dot3(t-1,e-1,i),g=c[o+1+s[u+1+s[a+1]]].dot3(t-1,e-1,i-1),_=n(t),m=n(e),b=n(i);return r(r(r(f,d,_),r(l,v,_),b),r(r(p,y,_),r(h,g,_),b),m)},t.Noise=e}(t.exports)},function(t,e){t.exports="#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform float time;\nuniform mat4 matrix4d;\nuniform vec2 distance4d;\nuniform float wiggleAmp;\nuniform float wiggleIntensity;\n\nattribute float positionW;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n  vUv = uv;\n\n  vec4 pos4d = vec4(position, positionW);\n\n  // wiggle\n  // pos4d += time;\n  pos4d += vec4(\n  \tsnoise_1_2(pos4d.xy + time*0.7),\n  \tsnoise_1_2(pos4d.wz + time*0.7),\n  \tsnoise_1_2(pos4d.yw + vec2(1000.0, 500.0) + time*0.7),\n  \tsnoise_1_2(pos4d.zx + vec2(100.0, -500.0) + time*0.7)) * wiggleAmp * wiggleIntensity;\n\n  // transform in 4d\n\tpos4d = matrix4d * pos4d;\n\n\t// stereograph\n\tpos4d = normalize(pos4d);\n\n\t// perspective projection from [0, 0, 0, distance4d] to XYZ hyperplane\n\tfloat d = distance4d.x / (distance4d.x - pos4d.w);\n\tvec3 pos = pos4d.xyz * d;\n\n  // 3d transform\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform sampler2D texture;\n\nvarying vec2 vUv;\n\nvoid main() {\n\tvec4 color = texture2D(texture, vUv);\n  gl_FragColor = color;\n}"},function(t,e){t.exports="#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nuniform float time;\nuniform float wiggleAmp;\nuniform float wiggleIntensity;\n\nattribute float positionW;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n  vUv = uv;\n\n  // wiggle\n  // pos4d += time;\n  vec3 pos = position + vec3(\n  \tsnoise_1_3(position + time*0.7),\n  \tsnoise_1_3(position + vec3(1000.0, 500.0, 110.0) + time*0.7),\n  \tsnoise_1_3(position + vec3(100.0, -500.0, -400.0) + time*0.7)) * wiggleAmp * wiggleIntensity;\n\n  // 3d transform\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(38),c=r(s),f=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.projector4d=t.projector4d,n.fibrations=[],n.count=32;for(var r=0;r<n.count;r++){var u=r/n.count*(2*Math.PI),a=new c.default({projector4d:n.projector4d,color:9412268,localEuler4d:new THREE.Euler(u,0,0),translate4d:new THREE.Vector4(.8,0,0,0),ringEuler4d:new THREE.Euler(0,Math.PI/5,0)});n.add(a),n.fibrations.push(a)}return n.changeFibrationCount(0),app.ui.fibrationCount.on("change",n.changeFibrationCount.bind(n)),n}return u(e,t),a(e,[{key:"changeFibrationCount",value:function(t){var e=this;this.visibleCount=Math.floor(t*this.count),this.fibrations.forEach(function(t,n){t.visible=n<e.visibleCount})}},{key:"update",value:function(){}}]),e}(THREE.Object3D);e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t){function e(t){r(this,e);for(var o=new THREE.BufferGeometry,u=[],a=100,s=0;s<=a;s++){var c=s/a*(2*Math.PI),f=1.1*Math.cos(c),l=1.1*Math.sin(c);u.push(new THREE.Vector3(f,l,f))}var p=new Float32Array(3*u.length);u.forEach(function(t,e){p[3*e]=t.x,p[3*e+1]=t.y,p[3*e+2]=t.z}),o.addAttribute("position",new THREE.BufferAttribute(p,3));var h=new THREE.ShaderMaterial({uniforms:{matrix4d:{type:"m4",value:null},localMatrix4d:{type:"m4",value:null},translate4d:{type:"v4",value:null},ringMatrix4d:{type:"m4",value:null},distance4d:{type:"v2",value:null},color:{type:"c",value:null}},linewidth:1.5,vertexShader:n(39),fragmentShader:n(40)}),d=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o,h));return d.projector4d=t.projector4d,d.color=new THREE.Color(t.color),d.localMatrix4d=d.eulerToMatrix4d(t.localEuler4d),d.translate4d=t.translate4d,d.ringMatrix4d=d.eulerToMatrix4d(t.ringEuler4d),d.material.uniforms.matrix4d.value=d.projector4d.matrix,d.material.uniforms.localMatrix4d.value=d.localMatrix4d,d.material.uniforms.translate4d.value=d.translate4d,d.material.uniforms.ringMatrix4d.value=d.ringMatrix4d,d.material.uniforms.distance4d.value=d.projector4d.distance,d.material.uniforms.color.value=d.color,d}return o(e,t),u(e,[{key:"eulerToMatrix4d",value:function(t){var e=void 0,n=void 0;e=Math.cos(t.x),n=Math.sin(t.x);var r=new THREE.Matrix4;r.set(e,0,0,-n,0,1,0,0,0,0,1,0,n,0,0,e),e=Math.cos(t.y),n=Math.sin(t.y);var i=new THREE.Matrix4;i.set(1,0,0,0,0,e,0,-n,0,0,1,0,0,n,0,e),e=Math.cos(t.z),n=Math.sin(t.z);var o=new THREE.Matrix4;o.set(1,0,0,0,0,1,0,0,0,0,e,-n,0,0,n,e);var u=new THREE.Matrix4;return u.multiplyMatrices(i,r),u.multiplyMatrices(o,u),u}},{key:"update",value:function(){}}]),e}(THREE.Line);e.default=a},function(t,e){t.exports="#define GLSLIFY 1\nuniform mat4 matrix4d;\nuniform mat4 localMatrix4d;\nuniform vec4 translate4d;\nuniform mat4 ringMatrix4d;\n\nuniform vec2 distance4d;\n\nvoid main() {\n\n\t// transform in 4d\n\tvec4 pos4d = matrix4d * localMatrix4d * (ringMatrix4d * vec4(position, 0.0) + translate4d);\n\n\t// stereograph\n\t//pos4d = normalize(pos4d);\n\n\t// perspective projection from [0, 0, 0, distance4d] to XYZ hyperplane\n\tfloat d = distance4d.x / (distance4d.x - pos4d.w);\n\tvec3 pos = pos4d.xyz * d;\n\n\t// 3d transform\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform vec3 color;\n\nvoid main() {\n\tgl_FragColor = vec4(color, 1.0);\n}"},function(t,e){THREE.CopyShader={uniforms:{tDiffuse:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}},function(t,e){THREE.FXAAShader={uniforms:{tDiffuse:{type:"t",value:null},resolution:{type:"v2",value:new THREE.Vector2(1/1024,1/512)}},vertexShader:["void main() {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","#define FXAA_REDUCE_MIN   (1.0/128.0)","#define FXAA_REDUCE_MUL   (1.0/8.0)","#define FXAA_SPAN_MAX     8.0","void main() {","vec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;","vec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;","vec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );","vec3 rgbM  = rgbaM.xyz;","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float lumaNW = dot( rgbNW, luma );","float lumaNE = dot( rgbNE, luma );","float lumaSW = dot( rgbSW, luma );","float lumaSE = dot( rgbSE, luma );","float lumaM  = dot( rgbM,  luma );","float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );","float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );","vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );","float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );","dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),","max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * resolution;","vec4 rgbA = (1.0/2.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));","vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));","float lumaB = dot(rgbB, vec4(luma, 0.0));","if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {","gl_FragColor = rgbA;","} else {","gl_FragColor = rgbB;","}","}"].join("\n")}},function(t,e){THREE.ShaderPass=function(t,e){this.textureID=void 0!==e?e:"tDiffuse",this.uniforms=THREE.UniformsUtils.clone(t.uniforms),this.material=new THREE.ShaderMaterial({defines:t.defines||{},uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.renderToScreen=!1,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.scene.add(this.quad)},THREE.ShaderPass.prototype={render:function(t,e,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n),this.quad.material=this.material,this.renderToScreen?t.render(this.scene,this.camera):t.render(this.scene,this.camera,e,this.clear)}}},function(t,e){THREE.MaskPass=function(t,e){this.scene=t,this.camera=e,this.enabled=!0,this.clear=!0,this.needsSwap=!1,this.inverse=!1},THREE.MaskPass.prototype={render:function(t,e,n,r){var i=t.context;i.colorMask(!1,!1,!1,!1),i.depthMask(!1);var o,u;this.inverse?(o=0,u=1):(o=1,u=0),i.enable(i.STENCIL_TEST),i.stencilOp(i.REPLACE,i.REPLACE,i.REPLACE),i.stencilFunc(i.ALWAYS,o,4294967295),i.clearStencil(u),t.render(this.scene,this.camera,n,this.clear),t.render(this.scene,this.camera,e,this.clear),i.colorMask(!0,!0,!0,!0),i.depthMask(!0),i.stencilFunc(i.EQUAL,1,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)}},THREE.ClearMaskPass=function(){this.enabled=!0},THREE.ClearMaskPass.prototype={render:function(t,e,n,r){var i=t.context;i.disable(i.STENCIL_TEST)}}},function(t,e){THREE.RenderPass=function(t,e,n,r,i){this.scene=t,this.camera=e,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=void 0!==i?i:1,this.oldClearColor=new THREE.Color,this.oldClearAlpha=1,this.enabled=!0,this.clear=!0,this.needsSwap=!1},THREE.RenderPass.prototype={render:function(t,e,n,r){this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(this.oldClearColor.copy(t.getClearColor()),this.oldClearAlpha=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),t.render(this.scene,this.camera,n,this.clear),this.clearColor&&t.setClearColor(this.oldClearColor,this.oldClearAlpha),this.scene.overrideMaterial=null}}},function(t,e){THREE.EffectComposer=function(t,e){if(this.renderer=t,void 0===e){var n=t.getPixelRatio(),r=Math.floor(t.context.canvas.width/n)||1,i=Math.floor(t.context.canvas.height/n)||1,o={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};e=new THREE.WebGLRenderTarget(r,i,o)}this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader)},THREE.EffectComposer.prototype={swapBuffers:function(){var t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t},addPass:function(t){this.passes.push(t)},insertPass:function(t,e){this.passes.splice(e,0,t)},render:function(t){this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2;var e,n,r=!1,i=this.passes.length;for(n=0;n<i;n++)if(e=this.passes[n],e.enabled){if(e.render(this.renderer,this.writeBuffer,this.readBuffer,t,r),e.needsSwap){if(r){var o=this.renderer.context;o.stencilFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),o.stencilFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}e instanceof THREE.MaskPass?r=!0:e instanceof THREE.ClearMaskPass&&(r=!1)}},reset:function(t){if(void 0===t){t=this.renderTarget1.clone();var e=this.renderer.getPixelRatio();t.width=Math.floor(this.renderer.context.canvas.width/e),t.height=Math.floor(this.renderer.context.canvas.height/e)}this.renderTarget1.dispose(),this.renderTarget1=t,this.renderTarget2.dispose(),this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(t,e){this.renderTarget1.setSize(t,e),this.renderTarget2.setSize(t,e)}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(20),s={none:0,repeat:1,mirrorRight:2,mirrorLeft:3},c=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:{resolution:{type:"v2",value:new THREE.Vector2},intensity:{type:"f",value:1},time:{type:"f",value:0},turbulanceAmp:{type:"f",value:0},lensRadius:{type:"f",value:150},lensIntensity:{type:"f",value:0},slitscanIntensity:{type:"f",value:0},effectKind:{type:"i",value:0},tDiffuse:{type:"t",value:null}},vertexShader:n(48),fragmentShader:n(49)}));return t.enabled=!0,app.ui.turbulance.on("change",function(){t.uniforms.turbulanceAmp.value=1}),t.targetSlitscanIntensity=0,app.ui.slitscan.on("change",function(e){t.slitscanEnabled=e}),t.lensRadius=0,app.ui.lensRadius.on("change",function(e){t.lensRadius=(0,a.lerp)(200,800,e)}),app.ui.magnify.on("change",function(e){t.isMagnify=e}),app.ui.effectReset.on("change",function(){t.uniforms.effectKind.value=s.none}),app.ui.effectRepeat.on("change",function(e){t.uniforms.effectKind.value=e?s.repeat:s.none}),app.ui.effectMirror.on("change",function(){t.uniforms.effectKind.value==s.mirrorRight?t.uniforms.effectKind.value=s.mirrorLeft:t.uniforms.effectKind.value==s.mirrorLeft?t.uniforms.effectKind.value=s.mirrorRight:t.uniforms.effectKind.value=Math.random()>.5?s.mirrorRight:s.mirrorLeft}),app.on("resize",t.onResize.bind(t)),t}return o(e,t),u(e,[{key:"onResize",value:function(t,e){console.log("deformpass.resize"),this.uniforms.resolution.value.set(t,e)}},{key:"update",value:function(t){this.uniforms.time.value+=10*t,this.uniforms.turbulanceAmp.value*=.96;var e=this.slitscanEnabled?1:0;this.uniforms.slitscanIntensity.value=(0,a.lerp)(this.uniforms.slitscanIntensity.value,e,this.slitscanEnabled?.7:.3);var n=this.isMagnify?1:0;this.uniforms.lensIntensity.value=(0,a.lerp)(this.uniforms.lensIntensity.value,n,.2);var r=this.isMagnify?this.lensRadius:this.lensRadius/2.5;this.uniforms.lensRadius.value=(0,a.lerp)(this.uniforms.lensRadius.value,r,.2)}}]),e}(THREE.ShaderPass);e.default=c},function(t,e){t.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"},function(t,e){t.exports="#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\nconst float PI_2_8 = 3.14159265359;\n\n\n\nfloat map_3_9(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map_3_9(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map_3_9(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map_3_9(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\n\n\n\nuniform vec2 resolution;\nuniform sampler2D tDiffuse;\nuniform float intensity;\nuniform float time;\nuniform float turbulanceAmp;\nuniform float slitscanIntensity;\nuniform float lensRadius;\nuniform float lensIntensity;\nuniform int effectKind;\n\n#define EFFECT_NONE   0\n#define EFFECT_REPEAT 1\n#define EFFECT_MIRROR_RIGHT 2\n#define EFFECT_MIRROR_LEFT  3\n#define EFFECT_POLAR  4\n\n\nvarying vec2 vUv;\n\nvec2 rotateVec2(vec2 p, float radian) {\n\tfloat s = sin(radian);\n\tfloat c = cos(radian);\n\treturn p * mat2(c, s, -s, c);\n}\n\nvoid main() {\n  vec2 fragCoord = vUv * resolution;\n  vec2 halfr = resolution / 2.0;\n\n  // ------------------------------------------------\n  // turbulance\n  vec3 noisePos = vec3(fragCoord/(resolution.x*0.26), time / 2000.0);\n  fragCoord += vec2(snoise_1_3(noisePos), snoise_1_3(noisePos+300.0)) * turbulanceAmp * resolution.x * 0.078125;\n\n  // ------------------------------------------------\n  // slitscan\n\n  noisePos = vec3(fragCoord.x/1200.0, fragCoord.y/400.0, time / 12000.0);\n  vec2 slitscanCoord = fragCoord;// + vec2(snoise3(noisePos+1000.0), snoise3(noisePos+33300.0)) * 20.0;\n  slitscanCoord.x = map_3_9(fragCoord.x, 0.0, resolution.x, halfr.x - 3.0, halfr.x + 3.0);\n\n  fragCoord = mix(fragCoord, slitscanCoord, slitscanIntensity);\n\n  \n\n  // ------------------------------------------------\n  // effect\n  if (effectKind == EFFECT_REPEAT) {\n    fragCoord.x = mod(fragCoord.x, resolution.x/3.0) + resolution.x/3.0;\n\n  } else if (effectKind == EFFECT_MIRROR_RIGHT) {\n    float x = fragCoord.x / resolution.x;\n    x = abs((1.0 - x) - 0.5) + 0.5;\n    fragCoord.x = x * resolution.x;\n\n  } else if (effectKind == EFFECT_MIRROR_LEFT) {\n    float x = fragCoord.x / resolution.x;\n    x = 0.5 - abs((1.0 - x) - 0.5);\n    fragCoord.x = x * resolution.x;\n  \n  } else if (effectKind == EFFECT_POLAR) {\n    \n  }\n\n\n  // ------------------------------------------------\n  // lens\n  vec2 center = fragCoord - resolution / 2.0;\n  float r = length(center);\n  float a = atan(center.y, center.x);\n\n  if (r < lensRadius) {\n    float phase = map_3_9(r, 0.0, lensRadius, PI_2_8/2.0, 2.0*PI_2_8);\n    r = lensRadius * cos(phase) * (r / lensRadius);\n  }\n  vec2 lensCoord = r * vec2(cos(a), sin(a)) + resolution / 2.0;\n  fragCoord = mix(fragCoord, lensCoord, lensIntensity);\n\n  // ------------------------------------------------\n  gl_FragColor = texture2D(tDiffuse, fragCoord / resolution);\n}"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(20),c=n(12),f=r(c),l=1500,p=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:{resolution:{type:"v2",value:new THREE.Vector2},exclusionColor:{type:"c",value:new THREE.Color(0)},hsvAjust:{type:"v3",value:new THREE.Vector3(0,1,1)},tDiffuse:{type:"t",value:null}},vertexShader:n(48),fragmentShader:n(51)}));return t.enabled=!0,t.currentExclusionColor=new THREE.Color(0,0,0),t.targetExclusionColor=new THREE.Color(0,0,0),t.transitionTime=null,app.ui.invert.on("change",function(e){null==t.transitionTime?t.currentExclusionColor.set(t.targetExclusionColor):t.currentExclusionColor.set(t.uniforms.exclusionColor.value),t.targetExclusionColor.set(e?f.default.INVERT_EXCLUSION_COLOR:0),t.transitionTime=l}),app.on("resize",t.onResize.bind(t)),t}return u(e,t),a(e,[{key:"onResize",value:function(t,e){console.log("composite.resize"),this.uniforms.resolution.value.set(t,e)}},{key:"update",value:function(t){if(null!=this.transitionTime)if(this.transitionTime-=t,this.transitionTime>0){var e=1-this.transitionTime/l;e=(0,s.smoothstep)(0,1,e),e=(0,s.smoothstep)(0,1,e),this.uniforms.exclusionColor.value.set(this.currentExclusionColor),this.uniforms.exclusionColor.value.lerp(this.targetExclusionColor,e)}else this.uniforms.exclusionColor.value.set(this.targetExclusionColor),this.transitionTime=null}}]),e}(THREE.ShaderPass);e.default=p},function(t,e){t.exports="#define GLSLIFY 1\nvec2 barrelDistortion_1_0(vec2 coord, float amt) {\n  vec2 cc = coord - 0.5;\n  float dist = dot(cc, cc);\n  return coord + cc * dist * amt;\n}\n\nfloat sat_1_1(float t) {\n  return clamp( t, 0.0, 1.0 );\n}\n\nfloat linterp_1_2(float t) {\n  return sat_1_1(1.0 - abs(2.0 * t - 1.0));\n}\n\nfloat remap_1_3(float t, float a, float b) {\n  return sat_1_1((t - a) / (b - a));\n}\n\nvec4 spectrum_offset_1_4(float t) {\n  vec4 ret;\n  float lo = step(t, 0.5);\n  float hi = 1.0 - lo;\n  float w = linterp_1_2(remap_1_3(t, 1.0 / 6.0, 5.0 / 6.0));\n  ret = vec4(lo, 1.0, hi, 1.) * vec4(1.0 - w, w, 1.0 - w, 1.);\n  return pow(ret, vec4(1.0 / 2.2));\n}\n\n\nvec4 apply_1_5(sampler2D tex, vec2 uv) { \n  const float max_distort = 4.0;\n  const int num_iter = 9;//12;\n  const float reci_num_iter_f = 1.0 / float(num_iter);\n\n  vec4 sumcol = vec4(0.0);\n  vec4 sumw = vec4(0.0);  \n  for (int i = 0; i < num_iter; i++){\n    float t = float(i) * reci_num_iter_f;\n    vec4 w = spectrum_offset_1_4(t);\n    sumw += w;\n    sumcol += w * texture2D(tex, barrelDistortion_1_0(uv, .04 * max_distort * t));\n  }\n    \n  return sumcol / sumw;\n}\n\n\nvec3 blendExclusion_2_6(vec3 base, vec3 blend) {\n\treturn base+blend-2.0*base*blend;\n}\n\nvec3 blendExclusion_2_6(vec3 base, vec3 blend, float opacity) {\n\treturn (blendExclusion_2_6(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n// #pragma glslify: fxaa = require(glsl-fxaa) \n\n\nuniform vec2 resolution;\nuniform sampler2D tDiffuse;\nuniform float exposure;\nuniform vec3 exclusionColor;\nuniform vec3 hsvAjust;\n\nvarying vec2 vUv;\n\n\n// vec3 rgb2hsv(vec3 c)\n// {\n//     vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n//     vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n//     vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n//     float d = q.x - min(q.w, q.y);\n//     float e = 1.0e-10;\n//     return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n// }\n\n// vec3 hsv2rgb(vec3 c)\n// {\n//     vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n//     vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n//     return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n// }\n\n\nvoid main() {\n  // vec2 fragCoord = vUv * resolution;\n\n  // TODO: aspect correction\n  vec2 fragCoord = vUv * resolution;\n\n  // chromatic aberration\n  // TODO: aspect correction\n  vec4 color = apply_1_5(tDiffuse, vUv);\n\n  // exclusion color\n  color = vec4(blendExclusion_2_6(color.rgb, exclusionColor), 1.0);\n\n  // ajsut\n  // vec3 hsv = rgb2hsv(color.rgb);\n  // hsv.x += hsvAjust.x;\n  // hsv.y *= hsvAjust.y;\n  // hsv.z *= hsvAjust.z;\n  // color = vec4(hsv2rgb(hsv), 1.0);\n\n  gl_FragColor = color;//texture2D(tDiffuse, vUv);\n}"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(15),c=r(s),f=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{uniforms:{resolution:{type:"v2",value:new THREE.Vector2},flash:{type:"t",value:null},flicker:{type:"t",value:null},flickerEnabled:{type:"f",value:0},tDiffuse:{type:"t",value:null}},vertexShader:n(48),fragmentShader:n(53)}));return t.enabled=!0,t.flashVideo=window.assets.overlay_flash,t.flashVideo.width=t.flashVideo.videoWidth,t.flashVideo.height=t.flashVideo.videoHeight,t.flashVideo.currentTime=t.flashVideo.duration-.05,t.flashTexture=new THREE.VideoTexture(t.flashVideo),t.flashTexture.minFilter=THREE.LinearFilter,t.flashTexture.magFilter=THREE.LinearFilter,t.flashTexture.format=THREE.RGBFormat,t.uniforms.flash.value=t.flashTexture,t.flashRequestId=null,app.ui.flash.on("change",t.overlayAttack.bind(t)),t.flickerVideo=window.assets.overlay_flicker,t.flickerVideo.width=t.flickerVideo.videoWidth,t.flickerVideo.height=t.flickerVideo.videoHeight,t.flickerVideo.loop=!0,t.flickerTexture=new THREE.VideoTexture(t.flickerVideo),t.flickerTexture.minFilter=THREE.NearestFilter,t.flickerTexture.magFilter=THREE.NearestFilter,t.flickerTexture.format=THREE.RGBFormat,t.uniforms.flicker.value=t.flickerTexture,t.flickerVideoEnabled=!1,app.ui.flicker.on("change",function(e){t.flickerVideoEnabled=e,t.flickerVideoEnabled?t.flickerVideo.play():(t.flickerVideo.pause(),t.flickerVideo.currentTime=0)}),app.on("resize",t.onResize.bind(t)),t}return u(e,t),a(e,[{key:"onResize",value:function(t,e){this.uniforms.resolution.value.set(t,e)}},{key:"overlayAttack",value:function(){var t=this,e=c.default.random(0,2);this.flashIndex=this.flashIndex<=e?e+1:e,this.flashVideo.currentTime=3*this.flashIndex,this.flashVideo.play(),clearTimeout(this.flashRequestId),this.flashRequestId=setTimeout(function(){t.flashVideo.pause(),t.flashRequestId=null},2850)}},{key:"update",value:function(){null!=this.flashRequestId&&(this.flashTexture.needsUpdate=!0),this.flickerEnabled&&(this.flickerVideo.needsUpdate=!0)}}]),e}(THREE.ShaderPass);e.default=f},function(t,e){t.exports="#define GLSLIFY 1\nvec3 blendExclusion_1_0(vec3 base, vec3 blend) {\n\treturn base+blend-2.0*base*blend;\n}\n\nvec3 blendExclusion_1_0(vec3 base, vec3 blend, float opacity) {\n\treturn (blendExclusion_1_0(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nuniform sampler2D tDiffuse;\nuniform sampler2D flash;\nuniform sampler2D flicker;\nvarying vec2 vUv;\n\nvoid main() {\n\tvec3 color = texture2D(tDiffuse, vUv).rgb;\n\n\tvec3 flashColor = texture2D(flash, vUv).rgb;\n\tcolor = blendExclusion_1_0(color, flashColor);\n\n\tvec3 flickerColor  = texture2D(flicker, vUv).rgb;\n\tcolor = blendExclusion_1_0(color, flickerColor);\n\n  gl_FragColor = vec4(color, 1.0);\n}"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(12),a=r(u),s=n(55),c=r(s),f=n(56),l=r(f),p=n(57),h=r(p),d=n(58),v=r(d),y=n(63),g=r(y),_=[{id:"polytopeScale",name:"Polytope Size",lerp:.04,value:.5},{id:"polygonCount",name:"Polygon Num",value:.4},{id:"fibrationCount",name:"Fibration Num",lerp:.05,value:0}],m=[{id:"distance",name:"Distance",lerp:.02,value:0,defaultLerp:.02},{id:"rotateSpeed",name:"Rotation Vel.",value:.3},{id:"lensRadius",name:"Wormhole Size",lerp:.15,value:.3}],b={32:"space",16:"shift"},x={shift:n(65),space:n(66)},w=[[{id:"effectReset",key:"Q",name:"Reset",margin:32},{id:"effectRepeat",key:"W",name:"Rep",toggle:!0,continuous:!0},{id:"effectMirror",key:"E",name:"Sym",still:!0,continuous:!0},{id:"slitscan",key:"R",name:"Line",toggle:!0},{id:"magnify",key:"T",name:"WH",toggle:!0}],[{id:"turbulance",key:"A",name:"Wave",margin:60},{id:"rotation",key:"S",name:"Rot"},{id:"flash",key:"D",name:"Flash"},{id:"white",key:"F",name:"White",pressing:!0}],[{id:"wide",key:"shift",name:"Wide",pressing:!0,margin:0,width:80,keyIcon:x.shift},{id:"invert",key:"Z",name:"Inv",toggle:!0},{id:"wiggle",key:"X",name:"Wig",toggle:!0},{id:"flicker",key:"C",name:"Flickr",toggle:!0},{id:"polytope",key:"space",name:"Polytope",margin:38,width:105,keyIcon:x.space}]],E=function(){function t(){var e=this;i(this,t),this.title=new c.default,this.display=new l.default,this.control=new h.default,this.sliderIds=[],this.initSliders(".control__sliders--left",_),this.initSliders(".control__sliders--right",m),this.keyMap={},w.forEach(function(t,n){e.initKeybinds(".control__keyboard-row--"+n,t)}),this.effectReset.on("change",function(){e.effectMirror.toggleHighlight(!1),e.effectRepeat.toggleHighlight(!1)}),this.effectRepeat.on("change",function(){e.effectMirror.toggleHighlight(!1)}),this.effectMirror.on("change",function(){e.effectRepeat.toggleHighlight(!1)}),this.wide.on("change",function(t){e.distance.target=t?.5:0,e.distance.lerp=t?a.default.WIDE_LERP:a.default.TELE_LERP}),this.$keyboard=$(".control__keyboard"),this.$keyboard.on({mouseenter:function(){return e.$keyboard.addClass("show-key")},mouseleave:function(){return e.$keyboard.removeClass("show-key")}}),$(window).on({keydown:this.onKeydown.bind(this),keyup:this.onKeyup.bind(this)})}return o(t,[{key:"initSliders",value:function(t,e){var n=this,r=e.map(function(t){return new v.default(t)}),i=$(t);r.forEach(function(t){i.append(t.$root),n[t.id]=t,n.sliderIds.push(t.id)})}},{key:"initKeybinds",value:function(t,e){var n=this,r=e.map(function(t){return new g.default(t)}),i=$(t);r.forEach(function(t){i.append(t.$root),n[t.id]=t,n.sliderIds.push(t.id),n.keyMap[t.key]=t})}},{key:"onKeydown",value:function(t){var e=b[t.keyCode]||String.fromCharCode(t.keyCode);this.keyMap[e]&&this.keyMap[e].onKeydown()}},{key:"onKeyup",value:function(t){var e=b[t.keyCode]||String.fromCharCode(t.keyCode);this.keyMap[e]&&this.keyMap[e].onKeyup()}},{key:"forceUpdate",value:function(){var t=this;this.sliderIds.forEach(function(e){return t[e].forceUpdate()})}},{key:"update",value:function(){var t=this;this.sliderIds.forEach(function(e){return t[e].update()})}}]),t}();e.default=new E},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,
r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){n(this,t),this.$root=$(".title"),this.$current=$(".title__textA"),this.$next=$(".title__textB"),this.$about=$(".title__about"),this.$next.css({top:"100%"}),this.$current.html("4DVJ"),this.$about.on("click",this.onClickAbout.bind(this)),app.on("resize",this.onResize.bind(this)),app.on("changeState",this.onChangeState.bind(this))}return r(t,[{key:"onResize",value:function(t,e){var n=(window.innerHeight-e)/2,r=(n-this.$root.height())/2;this.$root.css({y:r})}},{key:"onChangeState",value:function(t,e){var n=this;this.timerId&&clearTimeout(this.timerId),"loading"==e&&"vjing"==t?this.timerId=setTimeout(function(){n.value=app.polytopeManager.polytopeName},3e3):"vjing"==e&&"about"==t?(this.force=!0,this.value="4DVJ",this.force=!1):"about"==e&&"vjing"==t&&(this.value=app.polytopeManager.polytopeName)}},{key:"onClickAbout",value:function(){switch(app.state){case"vjing":app.ui.rotateSpeed.target=0,app.state="about";break;case"about":app.state="vjing"}}},{key:"value",set:function(t){if("vjing"==app.state||this.force){this.$next.finish().html(t).css({top:"100%"}).animate({top:0},500,"easeOutExpo"),this.$current.finish().css({top:0}).animate({top:"-100%"},500,"easeOutExpo");var e=this.$current;this.$current=this.$next,this.$next=e}},get:function(){return this.current.html()}}]),t}();e.default=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(){n(this,t),this.$root=$(".display"),this.$about=this.$root.find(".display__about"),this.$about.find("a").attr("target","_blank"),this.$about.on("click",function(){"about"==app.state&&(app.state="vjing")})};e.default=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){var e=this;n(this,t),this.$root=$(".control"),this.$keyboard=this.$root.find(".control__keyboard"),app.on("resize",this.resize.bind(this)),app.on("changeState",function(t,n){"loading"==n&&"vjing"==t&&setTimeout(function(){e.$keyboard.removeClass("show-key")},2500)})}return r(t,[{key:"resize",value:function(t,e){var n=(window.innerHeight-e)/2,r=(n-this.$root.height())/2;this.$root.css({y:-r})}},{key:"update",value:function(){}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(20),c=n(59),f=r(c),l=n(5),p=r(l),h=function(t){function e(t){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),u=n(60)();return r.$root=$(u),r.$root.find(".slider__name").html(t.name),r.$ui=r.$root.find(".slider__ui"),r.$left=r.$root.find(".slider__left"),r.$right=r.$root.find(".slider__right"),r.$value=r.$root.find(".slider__value"),r.$target=r.$root.find(".slider__target"),r.id=t.id,r._value=void 0!=t.value?t.value:.5,r._target=r._value,r.lerp=t.lerp||.1,r.defaultLerp=t.defaultLerp,r.onMousedown=r.onMousedown.bind(r),r.onMouseup=r.onMouseup.bind(r),r.onDrag=r.onDrag.bind(r),r.$ui.on("mousedown",r.onMousedown),r.$target.css("left",100*r._target+"%"),r.$value.css("left",100*r._value+"%"),r.$left.css("width",100*r._value+"%"),r}return u(e,t),a(e,[{key:"forceUpdate",value:function(){this.emit("change",this._value)}},{key:"onMousedown",value:function(t){this.onDrag(t),this.$ui.on("mousemove",this.onDrag),this.$ui.on("mouseup mouseleave",this.onMouseup)}},{key:"onMouseup",value:function(){this.$ui.off("mousemove mouseup",this.onDrag)}},{key:"onDrag",value:function(t){var e=this.$ui.offset();this._target=(t.pageX-e.left)/this.$ui.width(),this._target=(0,f.default)(this._target,0,1),this.lerp=this.defaultLerp||this.lerp,this.$target.css("left",100*this._target+"%")}},{key:"update",value:function(){var t=(0,s.lerp)(this._value,this._target,this.lerp);Math.abs(t-this._target)<.001&&(t=this._target),t!=this._value&&(this.emit("change",t),this.$value.css("left",100*t+"%"),this.$left.css("width",100*t+"%")),this._value=t}},{key:"value",get:function(){return this._value}},{key:"target",set:function(t){this._target=t,this.$target.css("left",100*this._target+"%")},get:function(){return this._target}}]),e}(p.default);e.default=h},function(t,e){function n(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}t.exports=n},function(t,e,n){function r(t){var e="";return e+='<div class="slider"><div class="slider__name"></div><div class="slider__ui"><div class="slider__left"></div><div class="slider__right"></div><div class="slider__target"></div><div class="slider__value"></div></div></div>'}n(61);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(1===arguments.length){for(var n=t[0],i=1;i<t.length;i++)n=r(n,t[i]);return n}for(var o in e)if("class"===o){var u=t[o]||[];t[o]=(Array.isArray(u)?u:[u]).concat(e[o]||[])}else if("style"===o){var u=a(t[o]);u=u&&";"!==u[u.length-1]?u+";":u;var s=a(e[o]);s=s&&";"!==s[s.length-1]?s+";":s,t[o]=u+s}else t[o]=e[o];return t}function i(t,e){for(var n,r="",i="",o=Array.isArray(e),a=0;a<t.length;a++)n=u(t[a]),n&&(o&&e[a]&&(n=f(n)),r=r+i+n,i=" ");return r}function o(t){var e="",n="";for(var r in t)r&&t[r]&&p.call(t,r)&&(e=e+n+r,n=" ");return e}function u(t,e){return Array.isArray(t)?i(t,e):t&&"object"==typeof t?o(t):t||""}function a(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)p.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function s(t,e,n,r){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(r?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||e.indexOf('"')===-1)?(n&&(e=f(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function c(t,e){var n="";for(var r in t)if(p.call(t,r)){var i=t[r];if("class"===r){i=u(i),n=s(r,i,!1,e)+n;continue}"style"===r&&(i=a(i)),n+=s(r,i,!1,e)}return n}function f(t){var e=""+t,n=h.exec(e);if(!n)return t;var r,i,o,u="";for(r=n.index,i=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}i!==r&&(u+=e.substring(i,r)),i=r+1,u+=o}return i!==r?u+e.substring(i,r):u}function l(t,e,r,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&e||i))throw t.message+=" on line "+r,t;try{i=i||n(62).readFileSync(e,"utf8")}catch(e){l(t,null,r)}var o=3,u=i.split("\n"),a=Math.max(r-o,0),s=Math.min(u.length,r+o),o=u.slice(a,s).map(function(t,e){var n=e+a+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Pug")+":"+r+"\n"+o+"\n\n"+t.message,t}var p=Object.prototype.hasOwnProperty;e.merge=r,e.classes=u,e.style=a,e.attr=s,e.attrs=c;var h=/["&<>]/;e.escape=f,e.rethrow=l},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(5),c=r(s),f=function(t){function e(t){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),u=n(64)();return r.$root=$(u),r.$label=r.$root.find(".keybind__label"),r.$name=r.$root.find(".keybind__name"),r.$key=r.$root.find(".keybind__key"),r.id=t.id,r.key=t.key,r.toggle=t.toggle||!1,r.still=t.still||!1,r.pressing=t.pressing||!1,r.value=!1,r.$root.css({"margin-left":void 0!=t.margin?t.margin:8,width:t.width||56}),r.$root.toggleClass("continuous",t.continuous||!1),r.$name.html(t.name),r.$key.html(t.keyIcon||t.key),r}return u(e,t),a(e,[{key:"forceUpdate",value:function(){}},{key:"onKeydown",value:function(){this.toggle?this.value=!this.value:this.value=!0,this.$root.toggleClass("active",this.value),this.emit("change",this.value)}},{key:"toggleHighlight",value:function(t){this.value=t,this.$root.toggleClass("active",this.value)}},{key:"onKeyup",value:function(){this.toggle||(this.value=!1),this.still||this.$root.toggleClass("active",this.value),this.pressing&&this.emit("change",this.value)}},{key:"update",value:function(){}}]),e}(c.default);e.default=f},function(t,e,n){function r(t){var e="";return e+='<div class="keybind"><div class="keybind__label-wrapper"><div class="keybind__label"><div class="keybind__name"></div><div class="keybind__key"></div></div></div></div>'}n(61);t.exports=r},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 13"><title>keybind_shift</title><polyline points="10.5 5.24 5.5 0.5 0.5 5.5" style="fill:none;stroke:#fff;stroke-linejoin:bevel"/><line x1="5.5" y1="0.5" x2="5.5" y2="13" style="fill:none;stroke:#fff;stroke-miterlimit:10"/><rect width="11" height="13" style="fill:none"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 37 13"><title>keybind_space</title><rect x="36" y="12" width="1" height="1" style="fill:#fff"/><path d="M992,753h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Z" transform="translate(-959 -740)" style="fill:#fff"/><rect y="12" width="1" height="1" style="fill:#fff"/><path d="M960,749h-1v-1h1v1Zm0-4h-1v-1h1v1Z" transform="translate(-959 -740)" style="fill:#fff"/><rect width="1" height="1" style="fill:#fff"/><path d="M992,741h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Zm-4,0h-1v-1h1v1Z" transform="translate(-959 -740)" style="fill:#fff"/><rect x="36" width="1" height="1" style="fill:#fff"/><path d="M996,749h-1v-1h1v1Zm0-4h-1v-1h1v1Z" transform="translate(-959 -740)" style="fill:#fff"/></svg>'}]);